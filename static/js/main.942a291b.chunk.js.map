{"version":3,"sources":["constants/actionTypes.js","components/ErrorsCollector.js","components/ArticlePreview.js","components/ListPagination.js","components/ArticleList.js","agent.js","components/Home/index.js","components/Home/Banner.js","components/Home/MainView.js","components/Home/Tags.js","middleware.js","reducers/common.js","reducer.js","reducers/article.js","reducers/articleList.js","reducers/auth.js","reducers/editor.js","reducers/home.js","reducers/profile.js","reducers/settings.js","store.js","components/Header.js","components/Article/ArticleActions.js","components/Article/ArticleMeta.js","components/Article/CommentInput.js","components/Article/DeleteButton.js","components/Article/Comment.js","components/Article/CommentList.js","components/Article/CommentContainer.js","components/Article/index.js","components/ListErrors.js","components/Editor.js","components/Login.js","components/Profile.js","components/ProfileFavorites.js","components/Register.js","components/Settings.js","components/ErrorsPlayer.js","components/App.js","index.js"],"names":["APP_LOAD","REDIRECT","ARTICLE_SUBMITTED","SETTINGS_SAVED","DELETE_ARTICLE","SETTINGS_PAGE_UNLOADED","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","ARTICLE_PAGE_LOADED","ARTICLE_PAGE_UNLOADED","ADD_COMMENT","DELETE_COMMENT","ARTICLE_FAVORITED","ARTICLE_UNFAVORITED","SET_PAGE","APPLY_TAG_FILTER","CHANGE_TAB","PROFILE_PAGE_LOADED","PROFILE_PAGE_UNLOADED","LOGIN","LOGOUT","REGISTER","LOGIN_PAGE_UNLOADED","REGISTER_PAGE_UNLOADED","ASYNC_START","ASYNC_END","EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_AUTH","UPDATE_FIELD_EDITOR","FOLLOW_USER","UNFOLLOW_USER","PROFILE_FAVORITES_PAGE_UNLOADED","PROFILE_FAVORITES_PAGE_LOADED","eventsMatrix","getRequests","window","performance","getEntriesByType","filter","entry","initiatorType","map","url","name","duration","splice","e","console","log","handleError","event","lastEvents","slice","reduce","result","events","context","type","requests","errors","JSON","parse","sessionStorage","getItem","PromiseRejectionEvent","message","reason","stack","ErrorEvent","error","filename","lineno","colno","unshift","setItem","stringify","ErrorsCollector","useEffect","record","emit","isCheckout","push","length","checkoutEveryNms","addEventListener","removeEventListener","connect","dispatch","favorite","slug","payload","agent","Articles","unfavorite","props","article","favoriteButtonClass","favorited","className","Link","to","author","username","src","image","alt","Date","createdAt","toDateString","onClick","ev","preventDefault","favoritesCount","title","description","tagList","tag","key","onSetPage","page","articlesCount","range","i","Math","ceil","v","isCurrent","currentPage","pager","all","toString","href","ArticleList","articles","superagent","superagentPromise","_superagent","global","Promise","API_ROOT","encode","encodeURIComponent","responseBody","res","body","token","tokenPlugin","req","set","del","use","then","get","put","post","Auth","current","login","email","password","user","register","save","Tags","getAll","limit","count","p","omitSlug","Object","assign","undefined","byAuthor","byTag","favoritedBy","feed","update","create","Comments","comment","delete","commentId","forArticle","Profile","follow","unfollow","setToken","_token","Home","tab","this","articlesPromise","onLoad","onUnload","appName","tags","onClickTag","React","Component","state","home","common","Banner","toLowerCase","YourFeedTab","onTabClick","GlobalFeedTab","TagFilterTab","articleList","loading","promiseMiddleware","store","next","action","subtype","currentView","getState","viewChangeCounter","skipTracking","currentState","promise","response","localStorageMiddleware","localStorage","defaultState","combineReducers","comments","commentErrors","concat","id","auth","inProgress","value","appLoaded","currentUser","redirectTo","redirectUrl","editor","articleSlug","tagInput","profile","settings","router","routerReducer","history","createHistory","basename","myRouterMiddleware","routerMiddleware","createStore","reducer","composeWithDevTools","applyMiddleware","LoggedOutView","style","color","LoggedInView","Header","onClickDelete","canModify","ArticleMeta","CommentInput","setBody","setState","target","createComment","onSubmit","placeholder","onChange","rows","show","Comment","CommentList","CommentContainer","Article","match","params","markup","__html","marked","sanitize","dangerouslySetInnerHTML","ListErrors","keys","Editor","updateFieldEvent","onUpdateField","changeTitle","changeDescription","changeBody","changeTagInput","watchForEnter","keyCode","onAddTag","removeTagHandler","onRemoveTag","submitForm","nextProps","onKeyUp","disabled","Login","changeEmail","onChangeEmail","changePassword","onChangePassword","EditProfileSettings","isUser","FollowUserButton","classes","following","mapStateToProps","bio","onFollow","onUnfollow","renderTabs","ProfileFavorites","Fragment","Register","changeUsername","onChangeUsername","SettingsForm","updateState","field","newState","onSubmitForm","Settings","onClickLogout","ErrorsPlayer","useState","activeError","setActiveError","playerRef","useRef","height","display","borderBottom","index","marginRight","innerHTML","Player","data","autoPlay","handleChangeError","fileName","toFixed","ref","App","onRedirect","Switch","Route","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"4JAAA,wsCAAO,IAAMA,EAAW,WACXC,EAAW,WACXC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAyB,yBACzBC,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAsB,sBACtBC,EAAwB,wBACxBC,EAAc,cACdC,EAAiB,iBACjBC,EAAoB,oBACpBC,EAAsB,sBACtBC,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAsB,sBACtBC,EAAwB,wBACxBC,EAAQ,QACRC,EAAS,SACTC,EAAW,WACXC,EAAsB,sBACtBC,EAAyB,yBACzBC,EAAc,cACdC,EAAY,YACZC,EAAqB,qBACrBC,EAAuB,uBACvBC,EAAU,UACVC,EAAa,aACbC,EAAoB,oBACpBC,EAAsB,sBACtBC,EAAc,cACdC,EAAgB,gBAChBC,EAAkC,kCAClCC,EAAgC,iC,kEC/BzCC,EAAe,CAAC,IAEdC,EAAc,WAClB,IAEE,OADyBC,OAAOC,YAAYC,iBAAnB,YAEtBC,QACC,SAACC,GAAD,MACE,UAAAA,EAAMC,eACN,mBAAAD,EAAMC,iBAETC,KAAI,kBAAyB,CAAEC,IAA3B,EAAGC,KAAmCC,SAAtC,EAASA,aACbC,QAAQ,GACX,MAAOC,GACPC,QAAQC,IAAIF,KAIVG,EAAc,SAACC,GAEnB,IAAMC,EAAalB,EAChBmB,OAAO,GACPC,QAAO,SAACC,EAAQC,GAAT,4BAAwBD,GAAxB,YAAmCC,MAAS,IACtD,IACER,QAAQC,IAAR,0BAA6BE,GAC7B,IAAIM,EAAU,CACZC,KAAMP,EAAMO,KACZC,SAAUxB,IACViB,cAEIQ,EAASC,KAAKC,MAAMC,eAAeC,QAAf,YAAqC,GAE7DP,EADEN,aAAiBc,sBACZ,eACFR,EADE,CAELS,QAASf,EAAMgB,OAAOD,QACtBE,MAAOjB,EAAMgB,OAAOC,QAEbjB,aAAiBkB,WACnB,eACFZ,EADE,CAELS,QAASf,EAAMmB,MAAMJ,QACrBK,SAAUpB,EAAMoB,SAChBC,OAAQrB,EAAMqB,OACdC,MAAOtB,EAAMsB,MACbL,MAAOjB,EAAMmB,MAAMF,QAGd,eACFX,EADE,CAELS,QAASf,EAAMe,UAGnBN,EAAOc,QAAQjB,GACfM,eAAeY,QAAf,SAAiCd,KAAKe,UAAUhB,EAAOd,OAAO,EAAG,MACjE,MAAOC,GACPC,QAAQC,IAAIF,GAEd,OAAO,GA4BM8B,IAzBS,WAsBtB,OArBAC,qBAAU,WAgBR,OAfAC,YAAO,CACLC,KADK,SACA7B,EAAO8B,GAENA,IACF/C,EAAagD,KAAK,IAClBhD,EAAeA,EAAamB,OAAO,IAElBnB,EAAaA,EAAaiD,OAAS,GAC3CD,KAAK/B,IAElBiC,iBAAkB,MAGpBhD,OAAOiD,iBAAP,QAAiCnC,GAAa,GAC9Cd,OAAOiD,iBAAP,qBAA8CnC,GAAa,GACpD,WACLd,OAAOkD,oBAAP,QAAoCpC,GAAa,GACjDd,OAAOkD,oBAAP,qBAAiDpC,GAAa,MAE/D,IACI,O,iFCRMqC,eAAQ,iBAAO,MArEH,SAAAC,GAAQ,MAAK,CACtCC,SAAU,SAAAC,GAAI,OAAIF,EAAS,CACzB9B,KAAMhD,IACNiF,QAASC,IAAMC,SAASJ,SAASC,MAEnCI,WAAY,SAAAJ,GAAI,OAAIF,EAAS,CAC3B9B,KAAM/C,IACNgF,QAASC,IAAMC,SAASC,WAAWJ,SA8DxBH,EA1DQ,SAAAQ,GACrB,IAAMC,EAAUD,EAAMC,QAChBC,EAAsBD,EAAQE,UAhBd,yBACI,iCA4B1B,OACE,yBAAKC,UAAU,mBACb,yBAAKA,UAAU,gBACb,kBAACC,EAAA,EAAD,CAAMC,GAAE,YAAOL,EAAQM,OAAOC,WAC5B,yBAAKC,IAAKR,EAAQM,OAAOG,MAAOC,IAAKV,EAAQM,OAAOC,YAGtD,yBAAKJ,UAAU,QACb,kBAACC,EAAA,EAAD,CAAMD,UAAU,SAASE,GAAE,YAAOL,EAAQM,OAAOC,WAC9CP,EAAQM,OAAOC,UAElB,0BAAMJ,UAAU,QACb,IAAIQ,KAAKX,EAAQY,WAAWC,iBAIjC,yBAAKV,UAAU,iBACb,4BAAQA,UAAWF,EAAqBa,QA1B5B,SAAAC,GAClBA,EAAGC,iBACChB,EAAQE,UACVH,EAAMD,WAAWE,EAAQN,MAEzBK,EAAMN,SAASO,EAAQN,QAsBjB,uBAAGS,UAAU,cADf,IACiCH,EAAQiB,kBAK7C,kBAACb,EAAA,EAAD,CAAMC,GAAE,mBAAcL,EAAQN,MAAQS,UAAU,gBAC9C,4BAAKH,EAAQkB,OACb,2BAAIlB,EAAQmB,aACZ,8CACA,wBAAIhB,UAAU,YAEVH,EAAQoB,QAAQ1E,KAAI,SAAA2E,GAClB,OACE,wBAAIlB,UAAU,mCAAmCmB,IAAKD,GACnDA,YCVJ9B,eAAQ,iBAAO,MApDH,SAAAC,GAAQ,MAAK,CACtC+B,UAAW,SAACC,EAAM7B,GAAP,OACTH,EAAS,CAAE9B,KAAM9C,IAAU4G,OAAM7B,gBAkDtBJ,EA/CQ,SAAAQ,GACrB,GAAIA,EAAM0B,eAAiB,GACzB,OAAO,KAIT,IADA,IAAMC,EAAQ,GACLC,EAAI,EAAGA,EAAIC,KAAKC,KAAK9B,EAAM0B,cAAgB,MAAOE,EACzDD,EAAMxC,KAAKyC,GAWb,OACE,6BACE,wBAAIxB,UAAU,cAGVuB,EAAMhF,KAAI,SAAAoF,GACR,IAAMC,EAAYD,IAAM/B,EAAMiC,YAK9B,OACE,wBACE7B,UAAY4B,EAAY,mBAAqB,YAC7CjB,QAPY,SAAAC,GAfV,IAAAS,EAgBJT,EAAGC,iBAhBCQ,EAiBIM,EAhBf/B,EAAMkC,MACPlC,EAAMwB,UAAUC,EAAMzB,EAAMkC,MAAMT,IAElCzB,EAAMwB,UAAUC,EAAM5B,IAAMC,SAASqC,IAAIV,KAmB/BF,IAAKQ,EAAEK,YAEP,uBAAGhC,UAAU,YAAYiC,KAAK,IAAIN,EAAI,YCRvCO,IAjCK,SAAAtC,GAClB,OAAKA,EAAMuC,SAMmB,IAA1BvC,EAAMuC,SAASnD,OAEf,yBAAKgB,UAAU,mBAAf,gCAOF,6BAEIJ,EAAMuC,SAAS5F,KAAI,SAAAsD,GACjB,OACE,kBAAC,EAAD,CAAgBA,QAASA,EAASsB,IAAKtB,EAAQN,UAKrD,kBAAC,EAAD,CACEuC,MAAOlC,EAAMkC,MACbR,cAAe1B,EAAM0B,cACrBO,YAAajC,EAAMiC,eAzBrB,yBAAK7B,UAAU,mBAAf,gB,gCCPN,kDAGMoC,EAAaC,IAAkBC,IAAaC,EAAOC,SAEnDC,EAAW,yCAEXC,EAASC,mBACTC,EAAe,SAAAC,GAAG,OAAIA,EAAIC,MAE5BC,EAAQ,KACNC,EAAc,SAAAC,GACdF,GACFE,EAAIC,IAAI,gBAAR,gBAAkCH,KAIhCvF,EACC,SAAAhB,GAAG,OACN4F,EAAWe,IAAX,UAAkBV,GAAlB,OAA6BjG,IAAO4G,IAAIJ,GAAaK,KAAKT,IAFxDpF,EAGC,SAAAhB,GAAG,OACN4F,EAAWkB,IAAX,UAAkBb,GAAlB,OAA6BjG,IAAO4G,IAAIJ,GAAaK,KAAKT,IAJxDpF,EAKC,SAAChB,EAAKsG,GAAN,OACHV,EAAWmB,IAAX,UAAkBd,GAAlB,OAA6BjG,GAAOsG,GAAMM,IAAIJ,GAAaK,KAAKT,IAN9DpF,EAOE,SAAChB,EAAKsG,GAAN,OACJV,EAAWoB,KAAX,UAAmBf,GAAnB,OAA8BjG,GAAOsG,GAAMM,IAAIJ,GAAaK,KAAKT,IAG/Da,EAAO,CACXC,QAAS,kBACPlG,EAAa,UACfmG,MAAO,SAACC,EAAOC,GAAR,OACLrG,EAAc,eAAgB,CAAEsG,KAAM,CAAEF,QAAOC,eACjDE,SAAU,SAAC3D,EAAUwD,EAAOC,GAAlB,OACRrG,EAAc,SAAU,CAAEsG,KAAM,CAAE1D,WAAUwD,QAAOC,eACrDG,KAAM,SAAAF,GAAI,OACRtG,EAAa,QAAS,CAAEsG,WAGtBG,EAAO,CACXC,OAAQ,kBAAM1G,EAAa,WAGvB2G,EAAQ,SAACC,EAAOC,GAAR,sBAAuBD,EAAvB,mBAAuCC,EAAIA,EAAID,EAAQ,IAC/DE,EAAW,SAAAzE,GAAO,OAAI0E,OAAOC,OAAO,GAAI3E,EAAS,CAAEN,UAAMkF,KACzD/E,EAAW,CACfqC,IAAK,SAAAV,GAAI,OACP7D,EAAA,oBAA0B2G,EAAM,GAAI9C,MACtCqD,SAAU,SAACvE,EAAQkB,GAAT,OACR7D,EAAA,2BAAiCkF,EAAOvC,GAAxC,YAAmDgE,EAAM,EAAG9C,MAC9DsD,MAAO,SAACzD,EAAKG,GAAN,OACL7D,EAAA,wBAA8BkF,EAAOxB,GAArC,YAA6CiD,EAAM,GAAI9C,MACzD8B,IAAK,SAAA5D,GAAI,OACP/B,EAAA,oBAA0B+B,KAC5BD,SAAU,SAAAC,GAAI,OACZ/B,EAAA,oBAA2B+B,EAA3B,eACFqF,YAAa,SAACzE,EAAQkB,GAAT,OACX7D,EAAA,8BAAoCkF,EAAOvC,GAA3C,YAAsDgE,EAAM,EAAG9C,MACjEwD,KAAM,kBACJrH,EAAa,qCACf8F,IAAK,SAAA/D,GAAI,OACP/B,EAAA,oBAA0B+B,KAC5BI,WAAY,SAAAJ,GAAI,OACd/B,EAAA,oBAA0B+B,EAA1B,eACFuF,OAAQ,SAAAjF,GAAO,OACbrC,EAAA,oBAA0BqC,EAAQN,MAAQ,CAAEM,QAASyE,EAASzE,MAChEkF,OAAQ,SAAAlF,GAAO,OACbrC,EAAc,YAAa,CAAEqC,cAG3BmF,EAAW,CACfD,OAAQ,SAACxF,EAAM0F,GAAP,OACNzH,EAAA,oBAA2B+B,EAA3B,aAA4C,CAAE0F,aAChDC,OAAQ,SAAC3F,EAAM4F,GAAP,OACN3H,EAAA,oBAA0B+B,EAA1B,qBAA2C4F,KAC7CC,WAAY,SAAA7F,GAAI,OACd/B,EAAA,oBAA0B+B,EAA1B,gBAGE8F,EAAU,CACdC,OAAQ,SAAAlF,GAAQ,OACd5C,EAAA,oBAA2B4C,EAA3B,aACFkD,IAAK,SAAAlD,GAAQ,OACX5C,EAAA,oBAA0B4C,KAC5BmF,SAAU,SAAAnF,GAAQ,OAChB5C,EAAA,oBAA0B4C,EAA1B,cAGW,KACbV,WACA+D,OACAuB,WACAK,UACApB,OACAuB,SAAU,SAAAC,GAAY1C,EAAQ0C,M,2KCjF1BjD,EAAUD,EAAOC,QAgBjBkD,E,mLAEF,IAAMC,EAAMC,KAAKhG,MAAMmD,MAAQ,OAAS,MAClC8C,EAAkBD,KAAKhG,MAAMmD,MAC/BtD,IAAMC,SAASmF,KACfpF,IAAMC,SAASqC,IAEnB6D,KAAKhG,MAAMkG,OACTH,EACAE,EACArD,EAAQT,IAAI,CAACtC,IAAMwE,KAAKC,SAAU2B,S,6CAKpCD,KAAKhG,MAAMmG,a,+BAIX,OACE,yBAAK/F,UAAU,aACb,kBAAC,IAAD,CAAQ+C,MAAO6C,KAAKhG,MAAMmD,MAAOiD,QAASJ,KAAKhG,MAAMoG,UAErD,yBAAKhG,UAAU,kBACb,yBAAKA,UAAU,OACb,kBAAC,IAAD,MAEA,yBAAKA,UAAU,YACb,yBAAKA,UAAU,WACb,2CAEA,kBAAC,IAAD,CACEiG,KAAML,KAAKhG,MAAMqG,KACjBC,WAAYN,KAAKhG,MAAMsG,iBAMjC,kBAAC,IAAD,W,GAvCWC,IAAMC,WA6CVhH,iBA3DS,SAACiH,GAAD,sBACnBA,EAAMC,KADa,CAEtBN,QAASK,EAAME,OAAOP,QACtBjD,MAAOsD,EAAME,OAAOxD,WAGK,SAAC1D,GAAD,MAAe,CACxC6G,WAAY,SAAChF,EAAKY,EAAOtC,GAAb,OACVH,EAAS,CAAE9B,KAAM7C,IAAkBwG,MAAKY,QAAOtC,aACjDsG,OAAQ,SAACH,EAAK7D,EAAOtC,GAAb,OACNH,EAAS,CAAE9B,KAAMtD,IAAkB0L,MAAK7D,QAAOtC,aACjDuG,SAAU,kBAAM1G,EAAS,CAAE9B,KAAMrD,UAgDpBkF,CAA6CsG,K,kDC1E5D,oBAkBec,IAhBA,SAAC,GAAwB,IAAtBR,EAAqB,EAArBA,QAChB,OADqC,EAAZjD,MAEhB,KAGP,yBAAK/C,UAAU,UACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,aACXgG,EAAQS,eAEX,mE,wFCNFC,EAAc,SAAA9G,GAClB,GAAIA,EAAMmD,MAAO,CAMf,OACE,wBAAI/C,UAAU,YACZ,uBAAIiC,KAAK,GACLjC,UAA0B,SAAdJ,EAAM+F,IAAiB,kBAAoB,WACvDhF,QATa,SAAAC,GACnBA,EAAGC,iBACHjB,EAAM+G,WAAW,OAAQlH,IAAMC,SAASmF,KAAMpF,IAAMC,SAASmF,UAK3D,cAQN,OAAO,MAGH+B,EAAgB,SAAAhH,GAKpB,OACE,wBAAII,UAAU,YACZ,uBACEiC,KAAK,GACLjC,UAA0B,QAAdJ,EAAM+F,IAAgB,kBAAoB,WACtDhF,QATe,SAAAC,GACnBA,EAAGC,iBACHjB,EAAM+G,WAAW,MAAOlH,IAAMC,SAASqC,IAAKtC,IAAMC,SAASqC,SAIzD,iBAUA8E,EAAe,SAAAjH,GACnB,OAAKA,EAAMsB,IAKT,wBAAIlB,UAAU,YACZ,uBAAGiC,KAAK,GAAGjC,UAAU,mBACnB,uBAAGA,UAAU,cADf,IACiCJ,EAAMsB,MANlC,MAkDI9B,iBAtCS,SAAAiH,GAAK,sBACxBA,EAAMS,YADkB,CAE3Bb,KAAMI,EAAMC,KAAKL,KACjBlD,MAAOsD,EAAME,OAAOxD,WAGK,SAAA1D,GAAQ,MAAK,CACtCsH,WAAY,SAAChB,EAAK7D,EAAOtC,GAAb,OAAyBH,EAAS,CAAE9B,KAAM5C,IAAYgL,MAAK7D,QAAOtC,gBA+BjEJ,EA5BE,SAAAQ,GACf,OACE,yBAAKI,UAAU,YACb,yBAAKA,UAAU,eACb,wBAAIA,UAAU,gCAEZ,kBAAC0G,EAAD,CACE3D,MAAOnD,EAAMmD,MACb4C,IAAK/F,EAAM+F,IACXgB,WAAY/G,EAAM+G,aAEpB,kBAACC,EAAD,CAAejB,IAAK/F,EAAM+F,IAAKgB,WAAY/G,EAAM+G,aAEjD,kBAACE,EAAD,CAAc3F,IAAKtB,EAAMsB,QAK7B,kBAAC,IAAD,CACEY,MAAOlC,EAAMkC,MACbK,SAAUvC,EAAMuC,SAChB4E,QAASnH,EAAMmH,QACfzF,cAAe1B,EAAM0B,cACrBO,YAAajC,EAAMiC,mB,gCC1F3B,2BAmCeoC,IAhCF,SAAArE,GACX,IAAMqG,EAAOrG,EAAMqG,KACnB,OAAIA,EAEA,yBAAKjG,UAAU,YAEXiG,EAAK1J,KAAI,SAAA2E,GAMP,OACE,uBACEe,KAAK,GACLjC,UAAU,uBACVmB,IAAKD,EACLP,QAVgB,SAAAC,GAClBA,EAAGC,iBACHjB,EAAMsG,WAAWhF,GAAK,SAAAG,GAAI,OAAI5B,IAAMC,SAASiF,MAAMzD,EAAKG,KAAO5B,IAAMC,SAASiF,MAAMzD,MASjFA,OASX,kD,6JCrBA8F,EAAoB,SAAAC,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAC,GACzC,IAoDiBxF,EApDHwF,EAAO3H,UAqDS,oBAAXmC,EAAE0B,KArDrB,CACE4D,EAAM5H,SAAS,CAAE9B,KAAMpC,IAAaiM,QAASD,EAAO5J,OAEpD,IAAM8J,EAAcJ,EAAMK,WAAWC,kBAC/BC,EAAeL,EAAOK,aAE5BL,EAAO3H,QAAQ6D,MACb,SAAAR,GACE,IAAM4E,EAAeR,EAAMK,YACtBE,GAAgBC,EAAaF,oBAAsBF,KAGxDxK,QAAQC,IAAI,SAAU+F,GACtBsE,EAAO3H,QAAUqD,EACjBoE,EAAM5H,SAAS,CAAE9B,KAAMnC,IAAWsM,QAASP,EAAO3H,UAClDyH,EAAM5H,SAAS8H,OAEjB,SAAAhJ,GACE,IAAMsJ,EAAeR,EAAMK,YACtBE,GAAgBC,EAAaF,oBAAsBF,KAGxDxK,QAAQC,IAAI,QAASqB,GACrBgJ,EAAOhJ,OAAQ,EACfgJ,EAAO3H,QAAUrB,EAAMwJ,SAAS7E,KAC3BqE,EAAOK,cACVP,EAAM5H,SAAS,CAAE9B,KAAMnC,IAAWsM,QAASP,EAAO3H,UAEpDyH,EAAM5H,SAAS8H,WA5BrB,CAoDF,IAAmBxF,EAjBjBuF,EAAKC,OAGDS,EAAyB,SAAAX,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAC,GAC1CA,EAAO5J,OAASvC,KAAYmM,EAAO5J,OAASzC,IACzCqM,EAAOhJ,QACVlC,OAAO4L,aAAarJ,QAAQ,MAAO2I,EAAO3H,QAAQsE,KAAKf,OACvDtD,IAAM+F,SAAS2B,EAAO3H,QAAQsE,KAAKf,QAE5BoE,EAAO5J,OAASxC,MACzBkB,OAAO4L,aAAarJ,QAAQ,MAAO,IACnCiB,IAAM+F,SAAS,OAGjB0B,EAAKC,M,mBCxCDW,EAAe,CACnB9B,QAAS,UACTjD,MAAO,KACPwE,kBAAmB,G,QCXNQ,4BAAgB,CAC7BlI,QCLa,WAAyB,IAAxBwG,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAKpD,IACH,OAAO,eACFkM,EADL,CAEExG,QAASsH,EAAO3H,QAAQ,GAAGK,QAC3BmI,SAAUb,EAAO3H,QAAQ,GAAGwI,WAEhC,KAAK5N,IACH,MAAO,GACT,KAAKC,IACH,OAAO,eACFgM,EADL,CAEE4B,cAAed,EAAOhJ,MAAQgJ,EAAO3H,QAAQ/B,OAAS,KACtDuK,SAAUb,EAAOhJ,MACf,MACCkI,EAAM2B,UAAY,IAAIE,OAAO,CAACf,EAAO3H,QAAQyF,YAEpD,KAAK3K,IACH,IAAM6K,EAAYgC,EAAOhC,UACzB,OAAO,eACFkB,EADL,CAEE2B,SAAU3B,EAAM2B,SAAS5L,QAAO,SAAA6I,GAAO,OAAIA,EAAQkD,KAAOhD,OAE9D,QACE,OAAOkB,IDnBXS,YECa,WAAyB,IAAxBT,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAKhD,IACL,KAAKC,IACH,OAAO,eACF6L,EADL,CAEElE,SAAUkE,EAAMlE,SAAS5F,KAAI,SAAAsD,GAC3B,OAAIA,EAAQN,OAAS4H,EAAO3H,QAAQK,QAAQN,KACnC,eACFM,EADL,CAEEE,UAAWoH,EAAO3H,QAAQK,QAAQE,UAClCe,eAAgBqG,EAAO3H,QAAQK,QAAQiB,iBAGpCjB,OAGb,KAAKpF,IACH,OAAO,eACF4L,EADL,CAEElE,SAAUgF,EAAO3H,QAAQ2C,SACzBb,cAAe6F,EAAO3H,QAAQ8B,cAC9BO,YAAasF,EAAO9F,OAExB,KAAK3G,IACH,OAAO,eACF2L,EADL,CAEEvE,MAAOqF,EAAOrF,MACdK,SAAUgF,EAAO3H,QAAQ2C,SACzBb,cAAe6F,EAAO3H,QAAQ8B,cAC9BqE,IAAK,KACLzE,IAAKiG,EAAOjG,IACZW,YAAa,IAEjB,KAAK5H,IACH,OAAO,eACFoM,EADL,CAEEvE,MAAOqF,EAAOrF,MACdmE,KAAMkB,EAAO3H,QAAQ,GAAGyG,KACxB9D,SAAUgF,EAAO3H,QAAQ,GAAG2C,SAC5Bb,cAAe6F,EAAO3H,QAAQ,GAAG8B,cACjCO,YAAa,EACb8D,IAAKwB,EAAOxB,MAEhB,KAAKzL,IACH,MAAO,GACT,KAAKS,IACH,OAAO,eACF0L,EADL,CAEEvE,MAAOqF,EAAOrF,MACdK,SAAUgF,EAAO3H,QAAQ2C,SACzBb,cAAe6F,EAAO3H,QAAQ8B,cAC9BqE,IAAKwB,EAAOxB,IACZ9D,YAAa,EACbX,IAAK,OAET,KAAKtG,IACL,KAAKkB,IACH,OAAO,eACFuK,EADL,CAEEvE,MAAOqF,EAAOrF,MACdK,SAAUgF,EAAO3H,QAAQ,GAAG2C,SAC5Bb,cAAe6F,EAAO3H,QAAQ,GAAG8B,cACjCO,YAAa,IAEjB,KAAKhH,IACL,KAAKgB,IACH,MAAO,GACT,QACE,OAAOwK,IFrEX+B,KGLa,WAAyB,IAAxB/B,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAKzC,IACL,KAAKE,IACH,OAAO,eACFqL,EADL,CAEEgC,YAAY,EACZ5K,OAAQ0J,EAAOhJ,MAAQgJ,EAAO3H,QAAQ/B,OAAS,OAEnD,KAAKxC,IACL,KAAKC,IACH,MAAO,GACT,KAAKC,IACH,GAAIgM,EAAOC,UAAYtM,KAASqM,EAAOC,UAAYpM,IACjD,OAAO,eAAKqL,EAAZ,CAAmBgC,YAAY,IAEjC,MACF,KAAK5M,IACH,OAAO,eAAK4K,EAAZ,eAAoBc,EAAOhG,IAAMgG,EAAOmB,QAC1C,QACE,OAAOjC,EAGX,OAAOA,GHjBPE,ODUa,WAAmC,IAAlCF,EAAiC,uDAAzByB,EAAcX,EAAW,uCAC/C,OAAQA,EAAO5J,MACb,KAAK5D,IACH,OAAO,eACF0M,EADL,CAEEtD,MAAOoE,EAAOpE,OAAS,KACvBwF,WAAW,EACXC,YAAarB,EAAO3H,QAAU2H,EAAO3H,QAAQsE,KAAO,OAExD,KAAKlK,IACH,OAAO,eAAKyM,EAAZ,CAAmBoC,WAAY,OACjC,KAAK1N,IACH,OAAO,eAAKsL,EAAZ,CAAmBoC,WAAY,IAAK1F,MAAO,KAAMyF,YAAa,OAChE,KAAK3O,IACH,IAAM6O,EAAW,mBAAevB,EAAO3H,QAAQK,QAAQN,MACvD,OAAO,eAAK8G,EAAZ,CAAmBoC,WAAYC,IACjC,KAAK5O,IACH,OAAO,eACFuM,EADL,CAEEoC,WAAYtB,EAAOhJ,MAAQ,KAAO,IAClCqK,YAAarB,EAAOhJ,MAAQ,KAAOgJ,EAAO3H,QAAQsE,OAEtD,KAAKhJ,IACL,KAAKE,IACH,OAAO,eACFqL,EADL,CAEEoC,WAAYtB,EAAOhJ,MAAQ,KAAO,IAClC4E,MAAOoE,EAAOhJ,MAAQ,KAAOgJ,EAAO3H,QAAQsE,KAAKf,MACjDyF,YAAarB,EAAOhJ,MAAQ,KAAOgJ,EAAO3H,QAAQsE,OAEtD,KAAK/J,IACH,OAAO,eAAKsM,EAAZ,CAAmBoC,WAAY,MACjC,KAAKrO,IACL,KAAKkB,IACL,KAAKpB,IACL,KAAKW,IACL,KAAKgB,IACL,KAAK7B,IACL,KAAKiB,IACL,KAAKC,IACH,OAAO,eAAKmL,EAAZ,CAAmBkB,kBAAmBlB,EAAMkB,kBAAoB,IAClE,QACE,OAAOlB,ICnDXsC,OINa,WAAyB,IAAxBtC,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAKlC,IACH,OAAO,eACFgL,EADL,CAEEuC,YAAazB,EAAO3H,QAAU2H,EAAO3H,QAAQK,QAAQN,KAAO,GAC5DwB,MAAOoG,EAAO3H,QAAU2H,EAAO3H,QAAQK,QAAQkB,MAAQ,GACvDC,YAAamG,EAAO3H,QAAU2H,EAAO3H,QAAQK,QAAQmB,YAAc,GACnE8B,KAAMqE,EAAO3H,QAAU2H,EAAO3H,QAAQK,QAAQiD,KAAO,GACrD+F,SAAU,GACV5H,QAASkG,EAAO3H,QAAU2H,EAAO3H,QAAQK,QAAQoB,QAAU,KAE/D,KAAK3F,IACH,MAAO,GACT,KAAKzB,IACH,OAAO,eACFwM,EADL,CAEEgC,WAAY,KACZ5K,OAAQ0J,EAAOhJ,MAAQgJ,EAAO3H,QAAQ/B,OAAS,OAEnD,KAAKtC,IACH,GAAIgM,EAAOC,UAAYvN,IACrB,OAAO,eAAKwM,EAAZ,CAAmBgC,YAAY,IAEjC,MACF,KAAK9M,IACH,OAAO,eACF8K,EADL,CAEEpF,QAASoF,EAAMpF,QAAQiH,OAAO,CAAC7B,EAAMwC,WACrCA,SAAU,KAEd,KAAKrN,IACH,OAAO,eACF6K,EADL,CAEEpF,QAASoF,EAAMpF,QAAQ7E,QAAO,SAAA8E,GAAG,OAAIA,IAAQiG,EAAOjG,SAExD,KAAKxF,IACH,OAAO,eAAK2K,EAAZ,eAAoBc,EAAOhG,IAAMgG,EAAOmB,QAC1C,QACE,OAAOjC,EAGX,OAAOA,GJnCPC,KKfa,WAAyB,IAAxBD,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAKtD,IACH,OAAO,eACFoM,EADL,CAEEJ,KAAMkB,EAAO3H,QAAQ,GAAGyG,OAE5B,KAAK/L,IACH,MAAO,GACT,QACE,OAAOmM,ILMXyC,QMXa,WAAyB,IAAxBzC,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAK3C,IACH,OAAO,eACFuM,EAAO3H,QAAQ,GAAGsJ,SAEzB,KAAKjO,IACH,MAAO,GACT,KAAKc,IACL,KAAKC,IACH,OAAO,eACFuL,EAAO3H,QAAQsJ,SAEtB,QACE,OAAOzC,INFX0C,SOba,WAAyB,IAAxB1C,EAAuB,uDAAf,GAAIc,EAAW,uCACrC,OAAQA,EAAO5J,MACb,KAAKzD,IACH,OAAO,eACFuM,EADL,CAEEgC,YAAY,EACZ5K,OAAQ0J,EAAOhJ,MAAQgJ,EAAO3H,QAAQ/B,OAAS,OAEnD,KAAKzD,IACH,MAAO,GACT,KAAKmB,IACH,OAAO,eACFkL,EADL,CAEEgC,YAAY,IAEhB,QACE,OAAOhC,IPFX2C,OAAQC,M,QQXGC,E,MAAUC,GAAc,CAAEC,SAAS,uCAG1CC,EAAqBC,YAAiBJ,GAW/BjC,EAAQsC,sBACnBC,EAASC,8BARAC,0BAAgBL,EAAoBrC,EAAmBY,K,oDCb5D+B,EAAgB,SAAC/J,GACrB,OAAKA,EAAM4I,YA6BJ,KA3BH,wBAAIxI,UAAU,gCACZ,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,YAAvB,SAKF,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,SAASF,UAAU,YAA5B,YAKF,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,YAAYF,UAAU,YAA/B,YAKF,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,UAAUF,UAAU,WAAW4J,MAAO,CAAEC,MAAM,QAAvD,kDAUJC,EAAe,SAAClK,GACpB,OAAIA,EAAM4I,YAEN,wBAAIxI,UAAU,gCACZ,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,YAAvB,SAKF,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,UAAUF,UAAU,YAC3B,uBAAGA,UAAU,gBADf,iBAKF,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAG,YAAYF,UAAU,YAC7B,uBAAGA,UAAU,eADf,iBAKF,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMC,GAAE,YAAON,EAAM4I,YAAYpI,UAAYJ,UAAU,YACrD,yBACEK,IAAKT,EAAM4I,YAAYlI,MACvBN,UAAU,WACVO,IAAKX,EAAM4I,YAAYpI,WAExBR,EAAM4I,YAAYpI,YAOtB,MAqBM2J,E,uKAhBX,OACE,yBAAK/J,UAAU,uBACb,yBAAKA,UAAU,aACb,kBAACC,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,gBACpB4F,KAAKhG,MAAMoG,QAAQS,eAGtB,kBAAC,EAAD,CAAe+B,YAAa5C,KAAKhG,MAAM4I,cAEvC,kBAAC,EAAD,CAAcA,YAAa5C,KAAKhG,MAAM4I,oB,GAX3BrC,IAAMC,WCnCZhH,eAAQ,iBAAO,MAlCH,SAAAC,GAAQ,MAAK,CACtC2K,cAAe,SAAAxK,GAAO,OACpBH,EAAS,CAAE9B,KAAMxD,IAAgByF,gBAgCtBJ,EA7BQ,SAAAQ,GACrB,IAAMC,EAAUD,EAAMC,QAItB,OAAID,EAAMqK,UAEN,8BAEE,kBAAChK,EAAA,EAAD,CACEC,GAAE,kBAAaL,EAAQN,MACvBS,UAAU,oCACV,uBAAGA,UAAU,aAHf,iBAMA,4BAAQA,UAAU,gCAAgCW,QAb5C,WACVf,EAAMoK,cAAcvK,IAAMC,SAASyD,IAAItD,EAAQN,SAazC,uBAAGS,UAAU,gBADf,oBASJ,kCCTWkK,EAtBK,SAAAtK,GAClB,IAAMC,EAAUD,EAAMC,QACtB,OACE,yBAAKG,UAAU,gBACb,kBAACC,EAAA,EAAD,CAAMC,GAAE,YAAOL,EAAQM,OAAOC,WAC5B,yBAAKC,IAAKR,EAAQM,OAAOG,MAAOC,IAAKV,EAAQM,OAAOC,YAGtD,yBAAKJ,UAAU,QACb,kBAACC,EAAA,EAAD,CAAMC,GAAE,YAAOL,EAAQM,OAAOC,UAAYJ,UAAU,UACjDH,EAAQM,OAAOC,UAElB,0BAAMJ,UAAU,QACb,IAAIQ,KAAKX,EAAQY,WAAWC,iBAIjC,kBAAC,EAAD,CAAgBuJ,UAAWrK,EAAMqK,UAAWpK,QAASA,MCXrDsK,E,kDACJ,aAAe,IAAD,8BACZ,gBACK9D,MAAQ,CACXvD,KAAM,IAGR,EAAKsH,QAAU,SAAAxJ,GACb,EAAKyJ,SAAS,CAAEvH,KAAMlC,EAAG0J,OAAOhC,SAGlC,EAAKiC,cAAgB,SAAA3J,GACnBA,EAAGC,iBACH,IAAMrB,EAAUC,IAAMuF,SAASD,OAAO,EAAKnF,MAAML,KAC/C,CAAEuD,KAAM,EAAKuD,MAAMvD,OACrB,EAAKuH,SAAS,CAAEvH,KAAM,KACtB,EAAKlD,MAAM4K,SAAShL,IAfV,E,qDAoBZ,OACE,0BAAMQ,UAAU,oBAAoBwK,SAAU5E,KAAK2E,eACjD,yBAAKvK,UAAU,cACb,8BAAUA,UAAU,eAClByK,YAAY,qBACZnC,MAAO1C,KAAKS,MAAMvD,KAClB4H,SAAU9E,KAAKwE,QACfO,KAAK,OAGT,yBAAK3K,UAAU,eACb,yBACEK,IAAKuF,KAAKhG,MAAM4I,YAAYlI,MAC5BN,UAAU,qBACVO,IAAKqF,KAAKhG,MAAM4I,YAAYpI,WAC9B,4BACEJ,UAAU,yBACVzC,KAAK,UAFP,sB,GApCiB4I,IAAMC,WA+ClBhH,eAAQ,iBAAO,MApDH,SAAAC,GAAQ,MAAK,CACtCmL,SAAU,SAAAhL,GAAO,OACfH,EAAS,CAAE9B,KAAMlD,IAAamF,gBAkDnBJ,CAAwC+K,GC/BxC/K,eAAQ,iBAAO,MArBH,SAAAC,GAAQ,MAAK,CACtCsB,QAAS,SAACnB,EAAS2F,GAAV,OACP9F,EAAS,CAAE9B,KAAMjD,IAAgBkF,UAAS2F,kBAmB/B/F,EAhBM,SAAAQ,GAMnB,OAAIA,EAAMgL,KAEN,0BAAM5K,UAAU,eACd,uBAAGA,UAAU,cAAcW,QARrB,WACV,IAAMnB,EAAUC,IAAMuF,SAASE,OAAOtF,EAAML,KAAMK,EAAMuF,WACxDvF,EAAMe,QAAQnB,EAASI,EAAMuF,eAUxB,QCWM0F,EA9BC,SAAAjL,GACd,IAAMqF,EAAUrF,EAAMqF,QAChB2F,EAAOhL,EAAM4I,aACjB5I,EAAM4I,YAAYpI,WAAa6E,EAAQ9E,OAAOC,SAChD,OACE,yBAAKJ,UAAU,QACb,yBAAKA,UAAU,cACb,uBAAGA,UAAU,aAAaiF,EAAQnC,OAEpC,yBAAK9C,UAAU,eACb,kBAACC,EAAA,EAAD,CACEC,GAAE,YAAO+E,EAAQ9E,OAAOC,UACxBJ,UAAU,kBACV,yBAAKK,IAAK4E,EAAQ9E,OAAOG,MAAON,UAAU,qBAAqBO,IAAK0E,EAAQ9E,OAAOC,YAJvF,OAOE,kBAACH,EAAA,EAAD,CACEC,GAAE,YAAO+E,EAAQ9E,OAAOC,UACxBJ,UAAU,kBACTiF,EAAQ9E,OAAOC,UAElB,0BAAMJ,UAAU,eACb,IAAIQ,KAAKyE,EAAQxE,WAAWC,gBAE/B,kBAAC,EAAD,CAAckK,KAAMA,EAAMrL,KAAMK,EAAML,KAAM4F,UAAWF,EAAQkD,QCPxD2C,EAlBK,SAAAlL,GAClB,OACE,6BAEIA,EAAMoI,SAASzL,KAAI,SAAA0I,GACjB,OACE,kBAAC,EAAD,CACEA,QAASA,EACTuD,YAAa5I,EAAM4I,YACnBjJ,KAAMK,EAAML,KACZ4B,IAAK8D,EAAQkD,UC0BZ4C,EAlCU,SAAAnL,GACvB,OAAIA,EAAM4I,YAEN,yBAAKxI,UAAU,kCACb,6BACE,iCAAavC,OAAQmC,EAAMnC,SAC3B,kBAAC,EAAD,CAAc8B,KAAMK,EAAML,KAAMiJ,YAAa5I,EAAM4I,eAGrD,kBAAC,EAAD,CACER,SAAUpI,EAAMoI,SAChBzI,KAAMK,EAAML,KACZiJ,YAAa5I,EAAM4I,eAKvB,yBAAKxI,UAAU,kCACb,2BACE,kBAACC,EAAA,EAAD,CAAMC,GAAG,UAAT,WADF,aAGE,kBAACD,EAAA,EAAD,CAAMC,GAAG,aAAT,WAHF,wCAOA,kBAAC,EAAD,CACE8H,SAAUpI,EAAMoI,SAChBzI,KAAMK,EAAML,KACZiJ,YAAa5I,EAAM4I,gB,yBCXvBwC,E,mLAEFpF,KAAKhG,MAAMkG,OACTtD,QAAQT,IAAI,CACVtC,IAAMC,SAAS4D,IAAIsC,KAAKhG,MAAMqL,MAAMC,OAAO/C,IAC3C1I,IAAMuF,SAASI,WAAWQ,KAAKhG,MAAMqL,MAAMC,OAAO/C,S,6CAMtDvC,KAAKhG,MAAMmG,a,+BAIX,IAAKH,KAAKhG,MAAMC,QACd,OAAO,KAGT,IAAMsL,EAAS,CACbC,OAAQC,IAAOzF,KAAKhG,MAAMC,QAAQiD,KAAM,CAAEwI,UAAU,KAEhDrB,EACJrE,KAAKhG,MAAM4I,aACX5C,KAAKhG,MAAM4I,YAAYpI,WAAawF,KAAKhG,MAAMC,QAAQM,OAAOC,SAChE,OACE,yBAAKJ,UAAU,gBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,aACb,4BAAK4F,KAAKhG,MAAMC,QAAQkB,OACxB,kBAAC,EAAD,CAAalB,QAAS+F,KAAKhG,MAAMC,QAASoK,UAAWA,MAIzD,yBAAKjK,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,aACb,yBAAKuL,wBAAyBJ,IAE9B,wBAAInL,UAAU,YACX4F,KAAKhG,MAAMC,QAAQoB,QAAQ1E,KAAI,SAAC2E,GAC/B,OACE,wBAAIlB,UAAU,mCAAmCmB,IAAKD,GACnDA,SAQb,6BAEA,yBAAKlB,UAAU,oBAEf,yBAAKA,UAAU,OACb,kBAAC,EAAD,CACEgI,SAAUpC,KAAKhG,MAAMoI,UAAY,GACjCvK,OAAQmI,KAAKhG,MAAMqI,cACnB1I,KAAMqG,KAAKhG,MAAMqL,MAAMC,OAAO/C,GAC9BK,YAAa5C,KAAKhG,MAAM4I,gBAI9B,kBAAC9J,EAAA,EAAD,W,GAhEcyH,IAAMC,WAsEbhH,eAhFS,SAACiH,GAAD,sBACnBA,EAAMxG,QADa,CAEtB2I,YAAanC,EAAME,OAAOiC,iBAGD,SAACnJ,GAAD,MAAe,CACxCyG,OAAQ,SAACtG,GAAD,OAAaH,EAAS,CAAE9B,KAAMpD,IAAqBqF,aAC3DuG,SAAU,kBAAM1G,EAAS,CAAE9B,KAAMnD,UAyEpBgF,CAA6C4L,GCnE7CQ,E,uKArBX,IAAM/N,EAASmI,KAAKhG,MAAMnC,OAC1B,OAAIA,EAEA,wBAAIuC,UAAU,kBAEVuE,OAAOkH,KAAKhO,GAAQlB,KAAI,SAAA4E,GACtB,OACE,wBAAIA,IAAKA,GACNA,EADH,IACS1D,EAAO0D,QAQnB,S,GAlBYgF,IAAMC,WC0BzBsF,E,kDACJ,aAAe,IAAD,sBAGZ,IAAMC,EAAmB,SAACxK,GAAD,OAAS,SAACP,GAAD,OAChC,EAAKhB,MAAMgM,cAAczK,EAAKP,EAAG0J,OAAOhC,SAJ9B,OACZ,gBAIKuD,YAAcF,EAAiB,SACpC,EAAKG,kBAAoBH,EAAiB,eAC1C,EAAKI,WAAaJ,EAAiB,QACnC,EAAKK,eAAiBL,EAAiB,YAEvC,EAAKM,cAAgB,SAACrL,GACD,KAAfA,EAAGsL,UACLtL,EAAGC,iBACH,EAAKjB,MAAMuM,aAIf,EAAKC,iBAAmB,SAAClL,GAAD,OAAS,WAC/B,EAAKtB,MAAMyM,YAAYnL,KAGzB,EAAKoL,WAAa,SAAC1L,GACjBA,EAAGC,iBACH,IAAMhB,EAAU,CACdkB,MAAO,EAAKnB,MAAMmB,MAClBC,YAAa,EAAKpB,MAAMoB,YACxB8B,KAAM,EAAKlD,MAAMkD,KACjB7B,QAAS,EAAKrB,MAAMqB,SAGhB1B,EAAO,CAAEA,KAAM,EAAKK,MAAMgJ,aAC1BlB,EAAU,EAAK9H,MAAMgJ,YACvBnJ,IAAMC,SAASoF,OAAOP,OAAOC,OAAO3E,EAASN,IAC7CE,IAAMC,SAASqF,OAAOlF,GAE1B,EAAKD,MAAM4K,SAAS9C,IAnCV,E,sEAuCY6E,GACxB,GAAI3G,KAAKhG,MAAMqL,MAAMC,OAAO3L,OAASgN,EAAUtB,MAAMC,OAAO3L,KAAM,CAChE,GAAIgN,EAAUtB,MAAMC,OAAO3L,KAEzB,OADAqG,KAAKhG,MAAMmG,WACJH,KAAKhG,MAAMkG,OAChBrG,IAAMC,SAAS4D,IAAIsC,KAAKhG,MAAMqL,MAAMC,OAAO3L,OAG/CqG,KAAKhG,MAAMkG,OAAO,S,2CAKpB,GAAIF,KAAKhG,MAAMqL,MAAMC,OAAO3L,KAC1B,OAAOqG,KAAKhG,MAAMkG,OAChBrG,IAAMC,SAAS4D,IAAIsC,KAAKhG,MAAMqL,MAAMC,OAAO3L,OAG/CqG,KAAKhG,MAAMkG,OAAO,Q,6CAIlBF,KAAKhG,MAAMmG,a,+BAGH,IAAD,OACP,OACE,yBAAK/F,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,mCACb,kBAAC,EAAD,CAAYvC,OAAQmI,KAAKhG,MAAMnC,SAE/B,8BACE,kCACE,8BAAUuC,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,OACLkN,YAAY,gBACZnC,MAAO1C,KAAKhG,MAAMmB,MAClB2J,SAAU9E,KAAKiG,eAInB,8BAAU7L,UAAU,cAClB,2BACEA,UAAU,eACVzC,KAAK,OACLkN,YAAY,6BACZnC,MAAO1C,KAAKhG,MAAMoB,YAClB0J,SAAU9E,KAAKkG,qBAInB,8BAAU9L,UAAU,cAClB,8BACEA,UAAU,eACV2K,KAAK,IACLF,YAAY,mCACZnC,MAAO1C,KAAKhG,MAAMkD,KAClB4H,SAAU9E,KAAKmG,cAInB,8BAAU/L,UAAU,cAClB,2BACEA,UAAU,eACVzC,KAAK,OACLkN,YAAY,aACZnC,MAAO1C,KAAKhG,MAAMiJ,SAClB6B,SAAU9E,KAAKoG,eACfQ,QAAS5G,KAAKqG,gBAGhB,yBAAKjM,UAAU,aACX4F,KAAKhG,MAAMqB,SAAW,IAAI1E,KAAI,SAAC2E,GAC/B,OACE,0BAAMlB,UAAU,uBAAuBmB,IAAKD,GAC1C,uBACElB,UAAU,kBACVW,QAAS,EAAKyL,iBAAiBlL,KAEhCA,QAOX,4BACElB,UAAU,uCACVzC,KAAK,SACLkP,SAAU7G,KAAKhG,MAAMyI,WACrB1H,QAASiF,KAAK0G,YAJhB,wBAaV,kBAAC5N,EAAA,EAAD,W,GA/IayH,IAAMC,WAqJZhH,eAnKS,SAACiH,GAAD,sBACnBA,EAAMsC,WAGgB,SAACtJ,GAAD,MAAe,CACxC8M,SAAU,kBAAM9M,EAAS,CAAE9B,KAAMhC,OACjCuK,OAAQ,SAACtG,GAAD,OAAaH,EAAS,CAAE9B,KAAMlC,IAAoBmE,aAC1D6M,YAAa,SAACnL,GAAD,OAAS7B,EAAS,CAAE9B,KAAM/B,IAAY0F,SACnDsJ,SAAU,SAAChL,GAAD,OAAaH,EAAS,CAAE9B,KAAM1D,IAAmB2F,aAC3DuG,SAAU,SAACvG,GAAD,OAAaH,EAAS,CAAE9B,KAAMjC,OACxCsQ,cAAe,SAACzK,EAAKmH,GAAN,OACbjJ,EAAS,CAAE9B,KAAM7B,IAAqByF,MAAKmH,cAwJhClJ,CAA6CsM,G,QCzJtDgB,E,kDACJ,aAAe,IAAD,8BACZ,gBACKC,YAAc,SAAC/L,GAAD,OAAQ,EAAKhB,MAAMgN,cAAchM,EAAG0J,OAAOhC,QAC9D,EAAKuE,eAAiB,SAACjM,GAAD,OAAQ,EAAKhB,MAAMkN,iBAAiBlM,EAAG0J,OAAOhC,QACpE,EAAKgE,WAAa,SAAC1I,EAAOC,GAAR,OAAqB,SAACjD,GACtCA,EAAGC,iBACH,EAAKjB,MAAM4K,SAAS5G,EAAOC,KANjB,E,mEAWZ+B,KAAKhG,MAAMmG,a,+BAIX,IAAMnC,EAAQgC,KAAKhG,MAAMgE,MACnBC,EAAW+B,KAAKhG,MAAMiE,SAC5B,OACE,yBAAK7D,UAAU,aACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,kCACb,wBAAIA,UAAU,kBAAd,WACA,uBAAGA,UAAU,kBACX,kBAACC,EAAA,EAAD,CAAMC,GAAG,aAAT,qBAGF,kBAAC,EAAD,CAAYzC,OAAQmI,KAAKhG,MAAMnC,SAE/B,0BAAM+M,SAAU5E,KAAK0G,WAAW1I,EAAOC,IACrC,kCACE,8BAAU7D,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,QACLkN,YAAY,QACZnC,MAAO1E,EACP8G,SAAU9E,KAAK+G,eAInB,8BAAU3M,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,WACLkN,YAAY,WACZnC,MAAOzE,EACP6G,SAAU9E,KAAKiH,kBAInB,4BACE7M,UAAU,uCACVzC,KAAK,SACLkP,SAAU7G,KAAKhG,MAAMyI,YAHvB,gBAYV,kBAAC3J,EAAA,EAAD,W,GAhEYyH,IAAMC,WAsEXhH,eAlFS,SAACiH,GAAD,sBAAiBA,EAAM+B,SAEpB,SAAC/I,GAAD,MAAe,CACxCuN,cAAe,SAACtE,GAAD,OACbjJ,EAAS,CAAE9B,KAAM9B,IAAmB0F,IAAK,QAASmH,WACpDwE,iBAAkB,SAACxE,GAAD,OAChBjJ,EAAS,CAAE9B,KAAM9B,IAAmB0F,IAAK,WAAYmH,WACvDkC,SAAU,SAAC5G,EAAOC,GAAR,OACRxE,EAAS,CAAE9B,KAAMzC,IAAO0E,QAASC,IAAMgE,KAAKE,MAAMC,EAAOC,MAC3DkC,SAAU,kBAAM1G,EAAS,CAAE9B,KAAMtC,UAyEpBmE,CAA6CsN,G,QCjFtDK,EAAsB,SAACnN,GAC3B,OAAIA,EAAMoN,OAEN,kBAAC/M,EAAA,EAAD,CACEC,GAAG,YACHF,UAAU,+CAEV,uBAAGA,UAAU,eAJf,0BAQG,MAGHiN,GAAmB,SAACrN,GACxB,GAAIA,EAAMoN,OACR,OAAO,KAGT,IAAIE,EAAU,wBACVtN,EAAMkE,KAAKqJ,UACbD,GAAW,iBAEXA,GAAW,yBAYb,OACE,4BAAQlN,UAAWkN,EAASvM,QAVV,SAACC,GACnBA,EAAGC,iBACCjB,EAAMkE,KAAKqJ,UACbvN,EAAM2F,SAAS3F,EAAMkE,KAAK1D,UAE1BR,EAAM0F,OAAO1F,EAAMkE,KAAK1D,YAMxB,uBAAGJ,UAAU,mBADf,OAGGJ,EAAMkE,KAAKqJ,UAAY,WAAa,SAHvC,IAGkDvN,EAAMkE,KAAK1D,WAK3DgN,GAAkB,SAAC/G,GAAD,sBACnBA,EAAMS,YADa,CAEtB0B,YAAanC,EAAME,OAAOiC,YAC1BM,QAASzC,EAAMyC,WAkBXzD,G,mLAEFO,KAAKhG,MAAMkG,OACTtD,QAAQT,IAAI,CACVtC,IAAM4F,QAAQ/B,IAAIsC,KAAKhG,MAAMqL,MAAMC,OAAO9K,UAC1CX,IAAMC,SAASgF,SAASkB,KAAKhG,MAAMqL,MAAMC,OAAO9K,e,6CAMpDwF,KAAKhG,MAAMmG,a,mCAIX,OACE,wBAAI/F,UAAU,gCACZ,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CACED,UAAU,kBACVE,GAAE,YAAO0F,KAAKhG,MAAMkJ,QAAQ1I,WAF9B,gBAQF,wBAAIJ,UAAU,YACZ,kBAACC,EAAA,EAAD,CACED,UAAU,WACVE,GAAE,YAAO0F,KAAKhG,MAAMkJ,QAAQ1I,SAA1B,eAFJ,0B,+BAYN,IAAM0I,EAAUlD,KAAKhG,MAAMkJ,QAC3B,IAAKA,EACH,OAAO,KAGT,IAAMkE,EACJpH,KAAKhG,MAAM4I,aACX5C,KAAKhG,MAAMkJ,QAAQ1I,WAAawF,KAAKhG,MAAM4I,YAAYpI,SAEzD,OACE,yBAAKJ,UAAU,gBACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,mCACb,yBACEK,IAAKyI,EAAQxI,MACbN,UAAU,WACVO,IAAKuI,EAAQ1I,WAEf,4BAAK0I,EAAQ1I,UACb,2BAAI0I,EAAQuE,KAEZ,kBAAC,EAAD,CAAqBL,OAAQA,IAC7B,kBAAC,GAAD,CACEA,OAAQA,EACRlJ,KAAMgF,EACNxD,OAAQM,KAAKhG,MAAM0N,SACnB/H,SAAUK,KAAKhG,MAAM2N,iBAO/B,yBAAKvN,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,mBAAmB4F,KAAK4H,cAEvC,kBAACtL,EAAA,EAAD,CACEJ,MAAO8D,KAAKhG,MAAMkC,MAClBK,SAAUyD,KAAKhG,MAAMuC,SACrBb,cAAesE,KAAKhG,MAAM0B,cAC1B+E,MAAOT,KAAKhG,MAAMiC,iBAK1B,kBAACnD,EAAA,EAAD,W,GAxFcyH,IAAMC,WA8FbhH,eAAQgO,IA7GI,SAAC/N,GAAD,MAAe,CACxCiO,SAAU,SAAClN,GAAD,OACRf,EAAS,CACP9B,KAAM5B,IACN6D,QAASC,IAAM4F,QAAQC,OAAOlF,MAElC0F,OAAQ,SAACtG,GAAD,OAAaH,EAAS,CAAE9B,KAAM3C,IAAqB4E,aAC3D+N,WAAY,SAACnN,GAAD,OACVf,EAAS,CACP9B,KAAM3B,IACN4D,QAASC,IAAM4F,QAAQE,SAASnF,MAEpC2F,SAAU,kBAAM1G,EAAS,CAAE9B,KAAM1C,UAiGpBuE,CAA6CiG,IC3JtDoI,G,mLACkB,IAAD,OACnB7H,KAAKhG,MAAMkG,QACT,SAACzE,GAAD,OACE5B,IAAMC,SAASkF,YAAY,EAAKhF,MAAMqL,MAAMC,OAAO9K,SAAUiB,KAC/DmB,QAAQT,IAAI,CACVtC,IAAM4F,QAAQ/B,IAAIsC,KAAKhG,MAAMqL,MAAMC,OAAO9K,UAC1CX,IAAMC,SAASkF,YAAYgB,KAAKhG,MAAMqL,MAAMC,OAAO9K,e,6CAMvDwF,KAAKhG,MAAMmG,a,mCAIX,OACE,kBAAC,IAAM2H,SAAP,KACE,wBAAI1N,UAAU,gCACZ,wBAAIA,UAAU,YACZ,kBAACC,EAAA,EAAD,CAAMD,UAAU,WAAWE,GAAE,YAAO0F,KAAKhG,MAAMkJ,QAAQ1I,WAAvD,gBAKF,wBAAIJ,UAAU,YACZ,kBAACC,EAAA,EAAD,CACED,UAAU,kBACVE,GAAE,YAAO0F,KAAKhG,MAAMkJ,QAAQ1I,SAA1B,eAFJ,wBAQJ,kBAAC1B,EAAA,EAAD,W,GAnCuB2G,IAyChBjG,eAAQgO,IA/CI,SAAC/N,GAAD,MAAe,CACxCyG,OAAQ,SAAChE,EAAOtC,GAAR,OACNH,EAAS,CAAE9B,KAAM3C,IAAqBkH,QAAOtC,aAC/CuG,SAAU,kBAAM1G,EAAS,CAAE9B,KAAM1C,UA4CpBuE,CAA6CqO,IC9BtDE,G,kDACJ,aAAe,IAAD,8BACZ,gBACKhB,YAAc,SAAC/L,GAAD,OAAQ,EAAKhB,MAAMgN,cAAchM,EAAG0J,OAAOhC,QAC9D,EAAKuE,eAAiB,SAACjM,GAAD,OAAQ,EAAKhB,MAAMkN,iBAAiBlM,EAAG0J,OAAOhC,QACpE,EAAKsF,eAAiB,SAAChN,GAAD,OAAQ,EAAKhB,MAAMiO,iBAAiBjN,EAAG0J,OAAOhC,QACpE,EAAKgE,WAAa,SAAClM,EAAUwD,EAAOC,GAAlB,OAA+B,SAACjD,GAChDA,EAAGC,iBACH,EAAKjB,MAAM4K,SAASpK,EAAUwD,EAAOC,KAP3B,E,mEAYZ+B,KAAKhG,MAAMmG,a,+BAIX,IAAMnC,EAAQgC,KAAKhG,MAAMgE,MACnBC,EAAW+B,KAAKhG,MAAMiE,SACtBzD,EAAWwF,KAAKhG,MAAMQ,SAE5B,OACE,yBAAKJ,UAAU,aACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,kCACb,wBAAIA,UAAU,kBAAd,WACA,uBAAGA,UAAU,kBACX,kBAACC,EAAA,EAAD,CAAMC,GAAG,UAAT,qBAGF,kBAAC,EAAD,CAAYzC,OAAQmI,KAAKhG,MAAMnC,SAE/B,0BAAM+M,SAAU5E,KAAK0G,WAAWlM,EAAUwD,EAAOC,IAC/C,kCACE,8BAAU7D,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,OACLkN,YAAY,WACZnC,MAAO1C,KAAKhG,MAAMQ,SAClBsK,SAAU9E,KAAKgI,kBAInB,8BAAU5N,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,QACLkN,YAAY,QACZnC,MAAO1C,KAAKhG,MAAMgE,MAClB8G,SAAU9E,KAAK+G,eAInB,8BAAU3M,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,WACLkN,YAAY,WACZnC,MAAO1C,KAAKhG,MAAMiE,SAClB6G,SAAU9E,KAAKiH,kBAInB,4BACE7M,UAAU,uCACVzC,KAAK,SACLkP,SAAU7G,KAAKhG,MAAMyI,YAHvB,gBAYV,kBAAC3J,EAAA,EAAD,W,GA7EeyH,IAAMC,WAmFdhH,gBAnGS,SAACiH,GAAD,sBAAiBA,EAAM+B,SAEpB,SAAC/I,GAAD,MAAe,CACxCuN,cAAe,SAACtE,GAAD,OACbjJ,EAAS,CAAE9B,KAAM9B,IAAmB0F,IAAK,QAASmH,WACpDwE,iBAAkB,SAACxE,GAAD,OAChBjJ,EAAS,CAAE9B,KAAM9B,IAAmB0F,IAAK,WAAYmH,WACvDuF,iBAAkB,SAACvF,GAAD,OAChBjJ,EAAS,CAAE9B,KAAM9B,IAAmB0F,IAAK,WAAYmH,WACvDkC,SAAU,SAACpK,EAAUwD,EAAOC,GAC1B,IAAMrE,EAAUC,IAAMgE,KAAKM,SAAS3D,EAAUwD,EAAOC,GACrDxE,EAAS,CAAE9B,KAAMvC,IAAUwE,aAE7BuG,SAAU,kBAAM1G,EAAS,CAAE9B,KAAMrC,UAsFpBkE,CAA6CuO,ICpGtDG,G,kDACJ,aAAe,IAAD,8BACZ,gBAEKzH,MAAQ,CACX/F,MAAO,GACPF,SAAU,GACViN,IAAK,GACLzJ,MAAO,GACPC,SAAU,IAGZ,EAAKkK,YAAc,SAACC,GAAD,OAAW,SAACpN,GAC7B,IAAMyF,EAAQ,EAAKA,MACb4H,EAAW1J,OAAOC,OAAO,GAAI6B,EAAlB9B,OAAA,IAAAA,CAAA,GAA4ByJ,EAAQpN,EAAG0J,OAAOhC,QAC/D,EAAK+B,SAAS4D,KAGhB,EAAK3B,WAAa,SAAC1L,GACjBA,EAAGC,iBAEH,IAAMiD,EAAOS,OAAOC,OAAO,GAAI,EAAK6B,OAC/BvC,EAAKD,iBACDC,EAAKD,SAGd,EAAKjE,MAAMsO,aAAapK,IAzBd,E,iEA8BR8B,KAAKhG,MAAM4I,aACbjE,OAAOC,OAAOoB,KAAKS,MAAO,CACxB/F,MAAOsF,KAAKhG,MAAM4I,YAAYlI,OAAS,GACvCF,SAAUwF,KAAKhG,MAAM4I,YAAYpI,SACjCiN,IAAKzH,KAAKhG,MAAM4I,YAAY6E,IAC5BzJ,MAAOgC,KAAKhG,MAAM4I,YAAY5E,U,gDAKV2I,GACpBA,EAAU/D,aACZ5C,KAAKyE,SACH9F,OAAOC,OAAO,GAAIoB,KAAKS,MAAO,CAC5B/F,MAAOiM,EAAU/D,YAAYlI,OAAS,GACtCF,SAAUmM,EAAU/D,YAAYpI,SAChCiN,IAAKd,EAAU/D,YAAY6E,IAC3BzJ,MAAO2I,EAAU/D,YAAY5E,W,+BAOnC,OACE,0BAAM4G,SAAU5E,KAAK0G,YACnB,kCACE,8BAAUtM,UAAU,cAClB,2BACEA,UAAU,eACVzC,KAAK,OACLkN,YAAY,yBACZnC,MAAO1C,KAAKS,MAAM/F,MAClBoK,SAAU9E,KAAKmI,YAAY,YAI/B,8BAAU/N,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,OACLkN,YAAY,WACZnC,MAAO1C,KAAKS,MAAMjG,SAClBsK,SAAU9E,KAAKmI,YAAY,eAI/B,8BAAU/N,UAAU,cAClB,8BACEA,UAAU,+BACV2K,KAAK,IACLF,YAAY,sBACZnC,MAAO1C,KAAKS,MAAMgH,IAClB3C,SAAU9E,KAAKmI,YAAY,UAI/B,8BAAU/N,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,QACLkN,YAAY,QACZnC,MAAO1C,KAAKS,MAAMzC,MAClB8G,SAAU9E,KAAKmI,YAAY,YAI/B,8BAAU/N,UAAU,cAClB,2BACEA,UAAU,+BACVzC,KAAK,WACLkN,YAAY,eACZnC,MAAO1C,KAAKS,MAAMxC,SAClB6G,SAAU9E,KAAKmI,YAAY,eAI/B,4BACE/N,UAAU,uCACVzC,KAAK,SACLkP,SAAU7G,KAAKS,MAAMgC,YAHvB,yB,GA5GiBlC,IAAMC,WAqI3B+H,G,uKAEF,OACE,yBAAKnO,UAAU,iBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,kCACb,wBAAIA,UAAU,kBAAd,iBAEA,kBAAC,EAAD,CAAYvC,OAAQmI,KAAKhG,MAAMnC,SAE/B,kBAAC,GAAD,CACE+K,YAAa5C,KAAKhG,MAAM4I,YACxB0F,aAActI,KAAKhG,MAAMsO,eAG3B,6BAEA,4BACElO,UAAU,yBACVW,QAASiF,KAAKhG,MAAMwO,eAFtB,+BASN,kBAAC1P,EAAA,EAAD,W,GA3BeyH,IAAMC,WAiCdhH,gBA7CS,SAACiH,GAAD,sBACnBA,EAAM0C,SADa,CAEtBP,YAAanC,EAAME,OAAOiC,iBAGD,SAACnJ,GAAD,MAAe,CACxC+O,cAAe,kBAAM/O,EAAS,CAAE9B,KAAMxC,OACtCmT,aAAc,SAACpK,GAAD,OACZzE,EAAS,CAAE9B,KAAMzD,IAAgB0F,QAASC,IAAMgE,KAAKO,KAAKF,MAC5DiC,SAAU,kBAAM1G,EAAS,CAAE9B,KAAMvD,UAoCpBoF,CAA6C+O,I,kBCtG7CE,GAvEM,WACnB,IAAM5Q,EAASC,KAAKC,MAAMC,eAAeC,QAAf,YAAqC,GADtC,EAEayQ,mBAAS,MAFtB,oBAElBC,EAFkB,KAELC,EAFK,KAGnBC,EAAYC,iBAAO,MAazB,OACE,iCACE,yBACE9E,MAAO,CACL+E,OAAO,OACPC,QAAQ,OACRC,aAAa,mBAGdpR,EAAOlB,KAAI,SAAC4B,EAAO2Q,GAClB,OACE,yBAAKlF,MAAO,CAAEmF,YAAY,OAAU5N,IAAK2N,GACvC,4BAAQvR,KAAI,SAAYoD,QAAS,kBAvBnB,SAACxC,GACzBqQ,EAAerQ,GACfsQ,EAAU/K,QAAQsL,UAAlB,GACA,IAAIC,KAAO,CACT3E,OAAQmE,EAAU/K,QAClBwL,KAAM,CACJ7R,OAAQc,EAAMlB,WACdkS,UAAU,KAgBmCC,CAAkBjR,KAAzD,qDACa2Q,EAAQ,QAM7B,yBAAKlF,MAAO,CAAEiF,aAAa,mBACxBN,GACC,kBAAC,WAAD,KACGA,EAAYxQ,SAAW,mGAAkBwQ,EAAYxQ,SACtD,kDAASwQ,EAAYhR,MACpBgR,EAAYtQ,OACX,uBAAG8C,MAAOwN,EAAYtQ,OAAtB,6BACSsQ,EAAYtQ,MAAMf,MAAM,EAAG,KACjCqR,EAAYtQ,MAAMe,OAAS,KAA3B,QAGJuP,EAAYc,UAAY,wCAAcd,EAAYc,UAClDd,EAAYlQ,QAAU,wCAAckQ,EAAYlQ,QAChDkQ,EAAYjQ,OAAS,wCAAciQ,EAAYjQ,OAChD,gIAEGiQ,EAAY/Q,SAASjB,KAAI,WAAoBuS,GAApB,IAAGtS,EAAH,EAAGA,IAAKE,EAAR,EAAQA,SAAR,OACxB,kBAAC,WAAD,CAAUyE,IAAG,cAAS2N,IACpB,6BACA,0BACElF,MAAO,CAAEmF,YAAY,SADvB,eAEUvS,IAAc,IAJ1B,wDAKiBE,EAAS4S,QAAQ,WAO5C,yBAAKC,IAAKd,MCnCVe,G,wLACsBjD,GACpBA,EAAU9D,aAEZxB,EAAM5H,SAASN,YAAKwN,EAAU9D,aAC9B7C,KAAKhG,MAAM6P,gB,2CAKb,IAAM1M,EAAQ9G,OAAO4L,aAAahK,QAAQ,OACtCkF,GACFtD,IAAM+F,SAASzC,GAGjB6C,KAAKhG,MAAMkG,OAAO/C,EAAQtD,IAAMgE,KAAKC,UAAY,KAAMX,K,+BAIvD,OAAI6C,KAAKhG,MAAM2I,UAEX,6BACE,kBAAC,EAAD,CACEvC,QAASJ,KAAKhG,MAAMoG,QACpBwC,YAAa5C,KAAKhG,MAAM4I,cAE1B,kBAACkH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWpK,MACjC,kBAACiK,EAAA,EAAD,CAAOE,KAAK,SAASC,UAAWpD,IAChC,kBAACiD,EAAA,EAAD,CAAOE,KAAK,YAAYC,UAAWnC,KACnC,kBAACgC,EAAA,EAAD,CAAOE,KAAK,gBAAgBC,UAAWpE,IACvC,kBAACiE,EAAA,EAAD,CAAOE,KAAK,UAAUC,UAAWpE,IACjC,kBAACiE,EAAA,EAAD,CAAOE,KAAK,eAAeC,UAAW9E,IACtC,kBAAC2E,EAAA,EAAD,CAAOE,KAAK,YAAYC,UAAW3B,KACnC,kBAACwB,EAAA,EAAD,CAAOE,KAAK,wBAAwBC,UAAWrC,KAC/C,kBAACkC,EAAA,EAAD,CAAOE,KAAK,cAAcC,UAAWzK,KACrC,kBAACsK,EAAA,EAAD,CAAOE,KAAK,UAAUC,UAAWzB,OAMvC,6BACE,kBAAC,EAAD,CACErI,QAASJ,KAAKhG,MAAMoG,QACpBwC,YAAa5C,KAAKhG,MAAM4I,mB,GA7ChBrC,IAAMC,WAwDThH,gBAvES,SAACiH,GACvB,MAAO,CACLkC,UAAWlC,EAAME,OAAOgC,UACxBvC,QAASK,EAAME,OAAOP,QACtBwC,YAAanC,EAAME,OAAOiC,YAC1BC,WAAYpC,EAAME,OAAOkC,eAIF,SAACpJ,GAAD,MAAe,CACxCyG,OAAQ,SAACtG,EAASuD,GAAV,OACN1D,EAAS,CAAE9B,KAAM5D,IAAU6F,UAASuD,QAAOyE,cAAc,KAC3DiI,WAAY,kBAAMpQ,EAAS,CAAE9B,KAAM3D,UA2DtBwF,CAA6CoQ,IC/E5DO,IAASC,OACP,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAU/I,MAAOA,GACf,kBAAC,IAAD,CAAiBiC,QAASA,GACxB,kBAACwG,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOE,KAAK,IAAIC,UAAWN,SAKnCS,SAASC,eAAe,W","file":"static/js/main.942a291b.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\nexport const REDIRECT = 'REDIRECT';\nexport const ARTICLE_SUBMITTED = 'ARTICLE_SUBMITTED';\nexport const SETTINGS_SAVED = 'SETTINGS_SAVED';\nexport const DELETE_ARTICLE = 'DELETE_ARTICLE';\nexport const SETTINGS_PAGE_UNLOADED = 'SETTINGS_PAGE_UNLOADED';\nexport const HOME_PAGE_LOADED = 'HOME_PAGE_LOADED';\nexport const HOME_PAGE_UNLOADED = 'HOME_PAGE_UNLOADED';\nexport const ARTICLE_PAGE_LOADED = 'ARTICLE_PAGE_LOADED';\nexport const ARTICLE_PAGE_UNLOADED = 'ARTICLE_PAGE_UNLOADED';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const ARTICLE_FAVORITED = 'ARTICLE_FAVORITED';\nexport const ARTICLE_UNFAVORITED = 'ARTICLE_UNFAVORITED';\nexport const SET_PAGE = 'SET_PAGE';\nexport const APPLY_TAG_FILTER = 'APPLY_TAG_FILTER';\nexport const CHANGE_TAB = 'CHANGE_TAB';\nexport const PROFILE_PAGE_LOADED = 'PROFILE_PAGE_LOADED';\nexport const PROFILE_PAGE_UNLOADED = 'PROFILE_PAGE_UNLOADED';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const REGISTER = 'REGISTER';\nexport const LOGIN_PAGE_UNLOADED = 'LOGIN_PAGE_UNLOADED';\nexport const REGISTER_PAGE_UNLOADED = 'REGISTER_PAGE_UNLOADED';\nexport const ASYNC_START = 'ASYNC_START';\nexport const ASYNC_END = 'ASYNC_END';\nexport const EDITOR_PAGE_LOADED = 'EDITOR_PAGE_LOADED';\nexport const EDITOR_PAGE_UNLOADED = 'EDITOR_PAGE_UNLOADED';\nexport const ADD_TAG = 'ADD_TAG';\nexport const REMOVE_TAG = 'REMOVE_TAG';\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\nexport const UPDATE_FIELD_EDITOR = 'UPDATE_FIELD_EDITOR';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\nexport const PROFILE_FAVORITES_PAGE_UNLOADED = 'PROFILE_FAVORITES_PAGE_UNLOADED';\nexport const PROFILE_FAVORITES_PAGE_LOADED = 'PROFILE_FAVORITES_PAGE_LOADED';","import React, { useEffect } from \"react\";\nimport { record } from \"rrweb\";\n\n// We use a two-dimensional array to store multiple events array\nlet eventsMatrix = [[]];\n\nconst getRequests = () => {\n  try {\n    const resourceRequests = window.performance.getEntriesByType(`resource`);\n    return resourceRequests\n      .filter(\n        (entry) =>\n          entry.initiatorType === `fetch` ||\n          entry.initiatorType === `xmlhttprequest`\n      )\n      .map(({ name, duration }) => ({ url: name, duration }))\n      .splice(-5);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nconst handleError = (event) => {\n  // сохраняем серию из 2 последних периодов сбора событий\n  const lastEvents = eventsMatrix\n    .slice(-2)\n    .reduce((result, events) => [...result, ...events], []); // склеиваем события за последние 2 периода. например если период 10 сек, то это будут события за последние 10-20 сек\n  try {\n    console.log(`error event😈`, event);\n    let context = {\n      type: event.type,\n      requests: getRequests(),\n      lastEvents,\n    };\n    const errors = JSON.parse(sessionStorage.getItem(`errors`)) || [];\n    if (event instanceof PromiseRejectionEvent) {\n      context = {\n        ...context,\n        message: event.reason.message,\n        stack: event.reason.stack,\n      };\n    } else if (event instanceof ErrorEvent) {\n      context = {\n        ...context,\n        message: event.error.message,\n        filename: event.filename,\n        lineno: event.lineno,\n        colno: event.colno,\n        stack: event.error.stack,\n      };\n    } else {\n      context = {\n        ...context,\n        message: event.message,\n      };\n    }\n    errors.unshift(context);\n    sessionStorage.setItem(`errors`, JSON.stringify(errors.splice(0, 10)));\n  } catch (e) {\n    console.log(e);\n  }\n  return false;\n};\n\nconst ErrorsCollector = () => {\n  useEffect(() => {\n    record({\n      emit(event, isCheckout) {\n        // isCheckout is a flag to tell you the events has been checkout\n        if (isCheckout) {\n          eventsMatrix.push([]);\n          eventsMatrix = eventsMatrix.slice(-3); // clear events buffer\n        }\n        const lastEvents = eventsMatrix[eventsMatrix.length - 1];\n        lastEvents.push(event);\n      },\n      checkoutEveryNms: 5 * 1000, // длительность миммнимального периода сбора событий\n    });\n\n    window.addEventListener(`error`, handleError, true);\n    window.addEventListener(`unhandledrejection`, handleError, true);\n    return () => {\n      window.removeEventListener(`error`, handleError, true);\n      window.removeEventListener(`unhandledrejection`, handleError, true);\n    };\n  }, []);\n  return null;\n};\n\nexport default ErrorsCollector;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { ARTICLE_FAVORITED, ARTICLE_UNFAVORITED } from '../constants/actionTypes';\n\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary';\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary';\n\nconst mapDispatchToProps = dispatch => ({\n  favorite: slug => dispatch({\n    type: ARTICLE_FAVORITED,\n    payload: agent.Articles.favorite(slug)\n  }),\n  unfavorite: slug => dispatch({\n    type: ARTICLE_UNFAVORITED,\n    payload: agent.Articles.unfavorite(slug)\n  })\n});\n\nconst ArticlePreview = props => {\n  const article = props.article;\n  const favoriteButtonClass = article.favorited ?\n    FAVORITED_CLASS :\n    NOT_FAVORITED_CLASS;\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (article.favorited) {\n      props.unfavorite(article.slug);\n    } else {\n      props.favorite(article.slug);\n    }\n  };\n\n  return (\n    <div className=\"article-preview\">\n      <div className=\"article-meta\">\n        <Link to={`/@${article.author.username}`}>\n          <img src={article.author.image} alt={article.author.username} />\n        </Link>\n\n        <div className=\"info\">\n          <Link className=\"author\" to={`/@${article.author.username}`}>\n            {article.author.username}\n          </Link>\n          <span className=\"date\">\n            {new Date(article.createdAt).toDateString()}\n          </span>\n        </div>\n\n        <div className=\"pull-xs-right\">\n          <button className={favoriteButtonClass} onClick={handleClick}>\n            <i className=\"ion-heart\"></i> {article.favoritesCount}\n          </button>\n        </div>\n      </div>\n\n      <Link to={`/article/${article.slug}`} className=\"preview-link\">\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className=\"tag-list\">\n          {\n            article.tagList.map(tag => {\n              return (\n                <li className=\"tag-default tag-pill tag-outline\" key={tag}>\n                  {tag}\n                </li>\n              )\n            })\n          }\n        </ul>\n      </Link>\n    </div>\n  );\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(ArticlePreview);\n","import React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { SET_PAGE } from '../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onSetPage: (page, payload) =>\n    dispatch({ type: SET_PAGE, page, payload })\n});\n\nconst ListPagination = props => {\n  if (props.articlesCount <= 10) {\n    return null;\n  }\n\n  const range = [];\n  for (let i = 0; i < Math.ceil(props.articlesCount / 10); ++i) {\n    range.push(i);\n  }\n\n  const setPage = page => {\n    if(props.pager) {\n      props.onSetPage(page, props.pager(page));\n    }else {\n      props.onSetPage(page, agent.Articles.all(page))\n    }\n  };\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n\n        {\n          range.map(v => {\n            const isCurrent = v === props.currentPage;\n            const onClick = ev => {\n              ev.preventDefault();\n              setPage(v);\n            };\n            return (\n              <li\n                className={ isCurrent ? 'page-item active' : 'page-item' }\n                onClick={onClick}\n                key={v.toString()}>\n\n                <a className=\"page-link\" href=\"\">{v + 1}</a>\n\n              </li>\n            );\n          })\n        }\n\n      </ul>\n    </nav>\n  );\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(ListPagination);\n","import ArticlePreview from './ArticlePreview';\nimport ListPagination from './ListPagination';\nimport React from 'react';\n\nconst ArticleList = props => {\n  if (!props.articles) {\n    return (\n      <div className=\"article-preview\">Loading...</div>\n    );\n  }\n\n  if (props.articles.length === 0) {\n    return (\n      <div className=\"article-preview\">\n        No articles are here... yet.\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {\n        props.articles.map(article => {\n          return (\n            <ArticlePreview article={article} key={article.slug} />\n          );\n        })\n      }\n\n      <ListPagination\n        pager={props.pager}\n        articlesCount={props.articlesCount}\n        currentPage={props.currentPage} />\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import superagentPromise from 'superagent-promise';\nimport _superagent from 'superagent';\n\nconst superagent = superagentPromise(_superagent, global.Promise);\n\nconst API_ROOT = 'https://conduit.productionready.io/api';\n\nconst encode = encodeURIComponent;\nconst responseBody = res => res.body;\n\nlet token = null;\nconst tokenPlugin = req => {\n  if (token) {\n    req.set('authorization', `Token ${token}`);\n  }\n}\n\nconst requests = {\n  del: url =>\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  get: url =>\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  put: (url, body) =>\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\n  post: (url, body) =>\n    superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\n};\n\nconst Auth = {\n  current: () =>\n    requests.get('/user'),\n  login: (email, password) =>\n    requests.post('/users/login', { user: { email, password } }),\n  register: (username, email, password) =>\n    requests.post('/users', { user: { username, email, password } }),\n  save: user =>\n    requests.put('/user', { user })\n};\n\nconst Tags = {\n  getAll: () => requests.get('/tags')\n};\n\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`;\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\nconst Articles = {\n  all: page =>\n    requests.get(`/articles?${limit(10, page)}`),\n  byAuthor: (author, page) =>\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\n  byTag: (tag, page) =>\n    requests.get(`/articles?tag=${encode(tag)}&${limit(10, page)}`),\n  del: slug =>\n    requests.del(`/articles/${slug}`),\n  favorite: slug =>\n    requests.post(`/articles/${slug}/favorite`),\n  favoritedBy: (author, page) =>\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\n  feed: () =>\n    requests.get('/articles/feed?limit=10&offset=0'),\n  get: slug =>\n    requests.get(`/articles/${slug}`),\n  unfavorite: slug =>\n    requests.del(`/articles/${slug}/favorite`),\n  update: article =>\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\n  create: article =>\n    requests.post('/articles', { article })\n};\n\nconst Comments = {\n  create: (slug, comment) =>\n    requests.post(`/articles/${slug}/comments`, { comment }),\n  delete: (slug, commentId) =>\n    requests.del(`/articles/${slug}/comments/${commentId}`),\n  forArticle: slug =>\n    requests.get(`/articles/${slug}/comments`)\n};\n\nconst Profile = {\n  follow: username =>\n    requests.post(`/profiles/${username}/follow`),\n  get: username =>\n    requests.get(`/profiles/${username}`),\n  unfollow: username =>\n    requests.del(`/profiles/${username}/follow`)\n};\n\nexport default {\n  Articles,\n  Auth,\n  Comments,\n  Profile,\n  Tags,\n  setToken: _token => { token = _token; }\n};\n","import Banner from \"./Banner\";\nimport MainView from \"./MainView\";\nimport React from \"react\";\nimport Tags from \"./Tags\";\nimport agent from \"../../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  APPLY_TAG_FILTER,\n} from \"../../constants/actionTypes\";\nimport ErrorsCollector from \"../ErrorsCollector\";\n\nconst Promise = global.Promise;\n\nconst mapStateToProps = (state) => ({\n  ...state.home,\n  appName: state.common.appName,\n  token: state.common.token,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onClickTag: (tag, pager, payload) =>\n    dispatch({ type: APPLY_TAG_FILTER, tag, pager, payload }),\n  onLoad: (tab, pager, payload) =>\n    dispatch({ type: HOME_PAGE_LOADED, tab, pager, payload }),\n  onUnload: () => dispatch({ type: HOME_PAGE_UNLOADED }),\n});\n\nclass Home extends React.Component {\n  componentWillMount() {\n    const tab = this.props.token ? \"feed\" : \"all\";\n    const articlesPromise = this.props.token\n      ? agent.Articles.feed\n      : agent.Articles.all;\n\n    this.props.onLoad(\n      tab,\n      articlesPromise,\n      Promise.all([agent.Tags.getAll(), articlesPromise()])\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"home-page\">\n        <Banner token={this.props.token} appName={this.props.appName} />\n\n        <div className=\"container page\">\n          <div className=\"row\">\n            <MainView />\n\n            <div className=\"col-md-3\">\n              <div className=\"sidebar\">\n                <p>Popular Tags</p>\n\n                <Tags\n                  tags={this.props.tags}\n                  onClickTag={this.props.onClickTag}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React from 'react';\n\nconst Banner = ({ appName, token }) => {\n  if (token) {\n    return null;\n  }\n  return (\n    <div className=\"banner\">\n      <div className=\"container\">\n        <h1 className=\"logo-font\">\n          {appName.toLowerCase()}\n        </h1>\n        <p>A place to share your knowledge.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Banner;\n","import ArticleList from '../ArticleList';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { CHANGE_TAB } from '../../constants/actionTypes';\n\nconst YourFeedTab = props => {\n  if (props.token) {\n    const clickHandler = ev => {\n      ev.preventDefault();\n      props.onTabClick('feed', agent.Articles.feed, agent.Articles.feed());\n    }\n\n    return (\n      <li className=\"nav-item\">\n        <a  href=\"\"\n            className={ props.tab === 'feed' ? 'nav-link active' : 'nav-link' }\n            onClick={clickHandler}>\n          Your Feed\n        </a>\n      </li>\n    );\n  }\n  return null;\n};\n\nconst GlobalFeedTab = props => {\n  const clickHandler = ev => {\n    ev.preventDefault();\n    props.onTabClick('all', agent.Articles.all, agent.Articles.all());\n  };\n  return (\n    <li className=\"nav-item\">\n      <a\n        href=\"\"\n        className={ props.tab === 'all' ? 'nav-link active' : 'nav-link' }\n        onClick={clickHandler}>\n        Global Feed\n      </a>\n    </li>\n  );\n};\n\nconst TagFilterTab = props => {\n  if (!props.tag) {\n    return null;\n  }\n\n  return (\n    <li className=\"nav-item\">\n      <a href=\"\" className=\"nav-link active\">\n        <i className=\"ion-pound\"></i> {props.tag}\n      </a>\n    </li>\n  );\n};\n\nconst mapStateToProps = state => ({\n  ...state.articleList,\n  tags: state.home.tags,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onTabClick: (tab, pager, payload) => dispatch({ type: CHANGE_TAB, tab, pager, payload })\n});\n\nconst MainView = props => {\n  return (\n    <div className=\"col-md-9\">\n      <div className=\"feed-toggle\">\n        <ul className=\"nav nav-pills outline-active\">\n\n          <YourFeedTab\n            token={props.token}\n            tab={props.tab}\n            onTabClick={props.onTabClick} />\n\n          <GlobalFeedTab tab={props.tab} onTabClick={props.onTabClick} />\n\n          <TagFilterTab tag={props.tag} />\n\n        </ul>\n      </div>\n\n      <ArticleList\n        pager={props.pager}\n        articles={props.articles}\n        loading={props.loading}\n        articlesCount={props.articlesCount}\n        currentPage={props.currentPage} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainView);\n","import React from 'react';\nimport agent from '../../agent';\n\nconst Tags = props => {\n  const tags = props.tags;\n  if (tags) {\n    return (\n      <div className=\"tag-list\">\n        {\n          tags.map(tag => {\n            const handleClick = ev => {\n              ev.preventDefault();\n              props.onClickTag(tag, page => agent.Articles.byTag(tag, page), agent.Articles.byTag(tag));\n            };\n\n            return (\n              <a\n                href=\"\"\n                className=\"tag-default tag-pill\"\n                key={tag}\n                onClick={handleClick}>\n                {tag}\n              </a>\n            );\n          })\n        }\n      </div>\n    );\n  } else {\n    return (\n      <div>Loading Tags...</div>\n    );\n  }\n};\n\nexport default Tags;\n","import agent from './agent';\nimport {\n  ASYNC_START,\n  ASYNC_END,\n  LOGIN,\n  LOGOUT,\n  REGISTER\n} from './constants/actionTypes';\n\nconst promiseMiddleware = store => next => action => {\n  if (isPromise(action.payload)) {\n    store.dispatch({ type: ASYNC_START, subtype: action.type });\n\n    const currentView = store.getState().viewChangeCounter;\n    const skipTracking = action.skipTracking;\n\n    action.payload.then(\n      res => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('RESULT', res);\n        action.payload = res;\n        store.dispatch({ type: ASYNC_END, promise: action.payload });\n        store.dispatch(action);\n      },\n      error => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('ERROR', error);\n        action.error = true;\n        action.payload = error.response.body;\n        if (!action.skipTracking) {\n          store.dispatch({ type: ASYNC_END, promise: action.payload });\n        }\n        store.dispatch(action);\n      }\n    );\n\n    return;\n  }\n\n  next(action);\n};\n\nconst localStorageMiddleware = store => next => action => {\n  if (action.type === REGISTER || action.type === LOGIN) {\n    if (!action.error) {\n      window.localStorage.setItem('jwt', action.payload.user.token);\n      agent.setToken(action.payload.user.token);\n    }\n  } else if (action.type === LOGOUT) {\n    window.localStorage.setItem('jwt', '');\n    agent.setToken(null);\n  }\n\n  next(action);\n};\n\nfunction isPromise(v) {\n  return v && typeof v.then === 'function';\n}\n\n\nexport { promiseMiddleware, localStorageMiddleware }\n","import {\n  APP_LOAD,\n  REDIRECT,\n  LOGOUT,\n  ARTICLE_SUBMITTED,\n  SETTINGS_SAVED,\n  LOGIN,\n  REGISTER,\n  DELETE_ARTICLE,\n  ARTICLE_PAGE_UNLOADED,\n  EDITOR_PAGE_UNLOADED,\n  HOME_PAGE_UNLOADED,\n  PROFILE_PAGE_UNLOADED,\n  PROFILE_FAVORITES_PAGE_UNLOADED,\n  SETTINGS_PAGE_UNLOADED,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst defaultState = {\n  appName: 'Conduit',\n  token: null,\n  viewChangeCounter: 0\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case APP_LOAD:\n      return {\n        ...state,\n        token: action.token || null,\n        appLoaded: true,\n        currentUser: action.payload ? action.payload.user : null\n      };\n    case REDIRECT:\n      return { ...state, redirectTo: null };\n    case LOGOUT:\n      return { ...state, redirectTo: '/', token: null, currentUser: null };\n    case ARTICLE_SUBMITTED:\n      const redirectUrl = `/article/${action.payload.article.slug}`;\n      return { ...state, redirectTo: redirectUrl };\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        currentUser: action.error ? null : action.payload.user\n      };\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        token: action.error ? null : action.payload.user.token,\n        currentUser: action.error ? null : action.payload.user\n      };\n    case DELETE_ARTICLE:\n      return { ...state, redirectTo: '/' };\n    case ARTICLE_PAGE_UNLOADED:\n    case EDITOR_PAGE_UNLOADED:\n    case HOME_PAGE_UNLOADED:\n    case PROFILE_PAGE_UNLOADED:\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\n    case SETTINGS_PAGE_UNLOADED:\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return { ...state, viewChangeCounter: state.viewChangeCounter + 1 };\n    default:\n      return state;\n  }\n};\n","import article from './reducers/article';\nimport articleList from './reducers/articleList';\nimport auth from './reducers/auth';\nimport { combineReducers } from 'redux';\nimport common from './reducers/common';\nimport editor from './reducers/editor';\nimport home from './reducers/home';\nimport profile from './reducers/profile';\nimport settings from './reducers/settings';\nimport { routerReducer } from 'react-router-redux';\n\nexport default combineReducers({\n  article,\n  articleList,\n  auth,\n  common,\n  editor,\n  home,\n  profile,\n  settings,\n  router: routerReducer\n});\n","import {\n  ARTICLE_PAGE_LOADED,\n  ARTICLE_PAGE_UNLOADED,\n  ADD_COMMENT,\n  DELETE_COMMENT\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_PAGE_LOADED:\n      return {\n        ...state,\n        article: action.payload[0].article,\n        comments: action.payload[1].comments\n      };\n    case ARTICLE_PAGE_UNLOADED:\n      return {};\n    case ADD_COMMENT:\n      return {\n        ...state,\n        commentErrors: action.error ? action.payload.errors : null,\n        comments: action.error ?\n          null :\n          (state.comments || []).concat([action.payload.comment])\n      };\n    case DELETE_COMMENT:\n      const commentId = action.commentId\n      return {\n        ...state,\n        comments: state.comments.filter(comment => comment.id !== commentId)\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  ARTICLE_FAVORITED,\n  ARTICLE_UNFAVORITED,\n  SET_PAGE,\n  APPLY_TAG_FILTER,\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  CHANGE_TAB,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n  PROFILE_FAVORITES_PAGE_LOADED,\n  PROFILE_FAVORITES_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_FAVORITED:\n    case ARTICLE_UNFAVORITED:\n      return {\n        ...state,\n        articles: state.articles.map(article => {\n          if (article.slug === action.payload.article.slug) {\n            return {\n              ...article,\n              favorited: action.payload.article.favorited,\n              favoritesCount: action.payload.article.favoritesCount\n            };\n          }\n          return article;\n        })\n      };\n    case SET_PAGE:\n      return {\n        ...state,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        currentPage: action.page\n      };\n    case APPLY_TAG_FILTER:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        tab: null,\n        tag: action.tag,\n        currentPage: 0\n      };\n    case HOME_PAGE_LOADED:\n      return {\n        ...state,\n        pager: action.pager,\n        tags: action.payload[0].tags,\n        articles: action.payload[1].articles,\n        articlesCount: action.payload[1].articlesCount,\n        currentPage: 0,\n        tab: action.tab\n      };\n    case HOME_PAGE_UNLOADED:\n      return {};\n    case CHANGE_TAB:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        tab: action.tab,\n        currentPage: 0,\n        tag: null\n      };\n    case PROFILE_PAGE_LOADED:\n    case PROFILE_FAVORITES_PAGE_LOADED:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload[1].articles,\n        articlesCount: action.payload[1].articlesCount,\n        currentPage: 0\n      };\n    case PROFILE_PAGE_UNLOADED:\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\n      return {};\n    default:\n      return state;\n  }\n};\n","import {\n  LOGIN,\n  REGISTER,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER_PAGE_UNLOADED,\n  ASYNC_START,\n  UPDATE_FIELD_AUTH\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null\n      };\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return {};\n    case ASYNC_START:\n      if (action.subtype === LOGIN || action.subtype === REGISTER) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case UPDATE_FIELD_AUTH:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n","import {\n  EDITOR_PAGE_LOADED,\n  EDITOR_PAGE_UNLOADED,\n  ARTICLE_SUBMITTED,\n  ASYNC_START,\n  ADD_TAG,\n  REMOVE_TAG,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case EDITOR_PAGE_LOADED:\n      return {\n        ...state,\n        articleSlug: action.payload ? action.payload.article.slug : '',\n        title: action.payload ? action.payload.article.title : '',\n        description: action.payload ? action.payload.article.description : '',\n        body: action.payload ? action.payload.article.body : '',\n        tagInput: '',\n        tagList: action.payload ? action.payload.article.tagList : []\n      };\n    case EDITOR_PAGE_UNLOADED:\n      return {};\n    case ARTICLE_SUBMITTED:\n      return {\n        ...state,\n        inProgress: null,\n        errors: action.error ? action.payload.errors : null\n      };\n    case ASYNC_START:\n      if (action.subtype === ARTICLE_SUBMITTED) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case ADD_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.concat([state.tagInput]),\n        tagInput: ''\n      };\n    case REMOVE_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.filter(tag => tag !== action.tag)\n      };\n    case UPDATE_FIELD_EDITOR:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n","import { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case HOME_PAGE_LOADED:\n      return {\n        ...state,\n        tags: action.payload[0].tags\n      };\n    case HOME_PAGE_UNLOADED:\n      return {};\n    default:\n      return state;\n  }\n};\n","import {\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n  FOLLOW_USER,\n  UNFOLLOW_USER\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case PROFILE_PAGE_LOADED:\n      return {\n        ...action.payload[0].profile\n      };\n    case PROFILE_PAGE_UNLOADED:\n      return {};\n    case FOLLOW_USER:\n    case UNFOLLOW_USER:\n      return {\n        ...action.payload.profile\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  ASYNC_START\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null\n      };\n    case SETTINGS_PAGE_UNLOADED:\n      return {};\n    case ASYNC_START:\n      return {\n        ...state,\n        inProgress: true\n      };\n    default:\n      return state;\n  }\n};\n","import { applyMiddleware, createStore } from 'redux';\nimport { createLogger } from 'redux-logger'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { promiseMiddleware, localStorageMiddleware } from './middleware';\nimport reducer from './reducer';\n\nimport { routerMiddleware } from 'react-router-redux'\nimport createHistory from 'history/createBrowserHistory';\n\nexport const history = createHistory({ basename: `/react-redux-realworld-example-app` });\n\n// Build the middleware for intercepting and dispatching navigation actions\nconst myRouterMiddleware = routerMiddleware(history);\n\nconst getMiddleware = () => {\n  if (process.env.NODE_ENV === 'production') {\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware);\n  } else {\n    // Enable additional logging in non-production environments.\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware, createLogger())\n  }\n};\n\nexport const store = createStore(\n  reducer, composeWithDevTools(getMiddleware()));\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst LoggedOutView = (props) => {\n  if (!props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/login\" className=\"nav-link\">\n            Sign in\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/register\" className=\"nav-link\">\n            Sign up\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/errors\" className=\"nav-link\" style={{ color: `red` }}>\n            REPLAY ошибок\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n  return null;\n};\n\nconst LoggedInView = (props) => {\n  if (props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/editor\" className=\"nav-link\">\n            <i className=\"ion-compose\"></i>&nbsp;New Post\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/settings\" className=\"nav-link\">\n            <i className=\"ion-gear-a\"></i>&nbsp;Settings\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to={`/@${props.currentUser.username}`} className=\"nav-link\">\n            <img\n              src={props.currentUser.image}\n              className=\"user-pic\"\n              alt={props.currentUser.username}\n            />\n            {props.currentUser.username}\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  return null;\n};\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <nav className=\"navbar navbar-light\">\n        <div className=\"container\">\n          <Link to=\"/\" className=\"navbar-brand\">\n            {this.props.appName.toLowerCase()}\n          </Link>\n\n          <LoggedOutView currentUser={this.props.currentUser} />\n\n          <LoggedInView currentUser={this.props.currentUser} />\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Header;\n","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { DELETE_ARTICLE } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onClickDelete: payload =>\n    dispatch({ type: DELETE_ARTICLE, payload })\n});\n\nconst ArticleActions = props => {\n  const article = props.article;\n  const del = () => {\n    props.onClickDelete(agent.Articles.del(article.slug))\n  };\n  if (props.canModify) {\n    return (\n      <span>\n\n        <Link\n          to={`/editor/${article.slug}`}\n          className=\"btn btn-outline-secondary btn-sm\">\n          <i className=\"ion-edit\"></i> Edit Article\n        </Link>\n\n        <button className=\"btn btn-outline-danger btn-sm\" onClick={del}>\n          <i className=\"ion-trash-a\"></i> Delete Article\n        </button>\n\n      </span>\n    );\n  }\n\n  return (\n    <span>\n    </span>\n  );\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(ArticleActions);\n","import ArticleActions from './ArticleActions';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst ArticleMeta = props => {\n  const article = props.article;\n  return (\n    <div className=\"article-meta\">\n      <Link to={`/@${article.author.username}`}>\n        <img src={article.author.image} alt={article.author.username} />\n      </Link>\n\n      <div className=\"info\">\n        <Link to={`/@${article.author.username}`} className=\"author\">\n          {article.author.username}\n        </Link>\n        <span className=\"date\">\n          {new Date(article.createdAt).toDateString()}\n        </span>\n      </div>\n\n      <ArticleActions canModify={props.canModify} article={article} />\n    </div>\n  );\n};\n\nexport default ArticleMeta;\n","import React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { ADD_COMMENT } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onSubmit: payload =>\n    dispatch({ type: ADD_COMMENT, payload })\n});\n\nclass CommentInput extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      body: ''\n    };\n\n    this.setBody = ev => {\n      this.setState({ body: ev.target.value });\n    };\n\n    this.createComment = ev => {\n      ev.preventDefault();\n      const payload = agent.Comments.create(this.props.slug,\n        { body: this.state.body });\n      this.setState({ body: '' });\n      this.props.onSubmit(payload);\n    };\n  }\n\n  render() {\n    return (\n      <form className=\"card comment-form\" onSubmit={this.createComment}>\n        <div className=\"card-block\">\n          <textarea className=\"form-control\"\n            placeholder=\"Write a comment...\"\n            value={this.state.body}\n            onChange={this.setBody}\n            rows=\"3\">\n          </textarea>\n        </div>\n        <div className=\"card-footer\">\n          <img\n            src={this.props.currentUser.image}\n            className=\"comment-author-img\"\n            alt={this.props.currentUser.username} />\n          <button\n            className=\"btn btn-sm btn-primary\"\n            type=\"submit\">\n            Post Comment\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(CommentInput);\n","import React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { DELETE_COMMENT } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: (payload, commentId) =>\n    dispatch({ type: DELETE_COMMENT, payload, commentId })\n});\n\nconst DeleteButton = props => {\n  const del = () => {\n    const payload = agent.Comments.delete(props.slug, props.commentId);\n    props.onClick(payload, props.commentId);\n  };\n\n  if (props.show) {\n    return (\n      <span className=\"mod-options\">\n        <i className=\"ion-trash-a\" onClick={del}></i>\n      </span>\n    );\n  }\n  return null;\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(DeleteButton);\n","import DeleteButton from './DeleteButton';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst Comment = props => {\n  const comment = props.comment;\n  const show = props.currentUser &&\n    props.currentUser.username === comment.author.username;\n  return (\n    <div className=\"card\">\n      <div className=\"card-block\">\n        <p className=\"card-text\">{comment.body}</p>\n      </div>\n      <div className=\"card-footer\">\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\">\n          <img src={comment.author.image} className=\"comment-author-img\" alt={comment.author.username} />\n        </Link>\n        &nbsp;\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\">\n          {comment.author.username}\n        </Link>\n        <span className=\"date-posted\">\n          {new Date(comment.createdAt).toDateString()}\n        </span>\n        <DeleteButton show={show} slug={props.slug} commentId={comment.id} />\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import Comment from './Comment';\nimport React from 'react';\n\nconst CommentList = props => {\n  return (\n    <div>\n      {\n        props.comments.map(comment => {\n          return (\n            <Comment\n              comment={comment}\n              currentUser={props.currentUser}\n              slug={props.slug}\n              key={comment.id} />\n          );\n        })\n      }\n    </div>\n  );\n};\n\nexport default CommentList;\n","import CommentInput from './CommentInput';\nimport CommentList from './CommentList';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst CommentContainer = props => {\n  if (props.currentUser) {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <div>\n          <list-errors errors={props.errors}></list-errors>\n          <CommentInput slug={props.slug} currentUser={props.currentUser} />\n        </div>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser} />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <p>\n          <Link to=\"/login\">Sign in</Link>\n          &nbsp;or&nbsp;\n          <Link to=\"/register\">sign up</Link>\n          &nbsp;to add comments on this article.\n        </p>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser} />\n      </div>\n    );\n  }\n};\n\nexport default CommentContainer;\n","import ArticleMeta from \"./ArticleMeta\";\nimport CommentContainer from \"./CommentContainer\";\nimport React from \"react\";\nimport agent from \"../../agent\";\nimport { connect } from \"react-redux\";\nimport marked from \"marked\";\nimport {\n  ARTICLE_PAGE_LOADED,\n  ARTICLE_PAGE_UNLOADED,\n} from \"../../constants/actionTypes\";\nimport ErrorsCollector from \"../ErrorsCollector\";\n\nconst mapStateToProps = (state) => ({\n  ...state.article,\n  currentUser: state.common.currentUser,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLoad: (payload) => dispatch({ type: ARTICLE_PAGE_LOADED, payload }),\n  onUnload: () => dispatch({ type: ARTICLE_PAGE_UNLOADED }),\n});\n\nclass Article extends React.Component {\n  componentWillMount() {\n    this.props.onLoad(\n      Promise.all([\n        agent.Articles.get(this.props.match.params.id),\n        agent.Comments.forArticle(this.props.match.params.id),\n      ])\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    if (!this.props.article) {\n      return null;\n    }\n\n    const markup = {\n      __html: marked(this.props.article.body, { sanitize: true }),\n    };\n    const canModify =\n      this.props.currentUser &&\n      this.props.currentUser.username === this.props.article.author.username;\n    return (\n      <div className=\"article-page\">\n        <div className=\"banner\">\n          <div className=\"container\">\n            <h1>{this.props.article.title}</h1>\n            <ArticleMeta article={this.props.article} canModify={canModify} />\n          </div>\n        </div>\n\n        <div className=\"container page\">\n          <div className=\"row article-content\">\n            <div className=\"col-xs-12\">\n              <div dangerouslySetInnerHTML={markup}></div>\n\n              <ul className=\"tag-list\">\n                {this.props.article.tagList.map((tag) => {\n                  return (\n                    <li className=\"tag-default tag-pill tag-outline\" key={tag}>\n                      {tag}\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          </div>\n\n          <hr />\n\n          <div className=\"article-actions\"></div>\n\n          <div className=\"row\">\n            <CommentContainer\n              comments={this.props.comments || []}\n              errors={this.props.commentErrors}\n              slug={this.props.match.params.id}\n              currentUser={this.props.currentUser}\n            />\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Article);\n","import React from 'react';\n\nclass ListErrors extends React.Component {\n  render() {\n    const errors = this.props.errors;\n    if (errors) {\n      return (\n        <ul className=\"error-messages\">\n          {\n            Object.keys(errors).map(key => {\n              return (\n                <li key={key}>\n                  {key} {errors[key]}\n                </li>\n              );\n            })\n          }\n        </ul>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ListErrors;\n","import ListErrors from \"./ListErrors\";\nimport React from \"react\";\nimport agent from \"../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  ADD_TAG,\n  EDITOR_PAGE_LOADED,\n  REMOVE_TAG,\n  ARTICLE_SUBMITTED,\n  EDITOR_PAGE_UNLOADED,\n  UPDATE_FIELD_EDITOR,\n} from \"../constants/actionTypes\";\nimport ErrorsCollector from \"./ErrorsCollector\";\n\nconst mapStateToProps = (state) => ({\n  ...state.editor,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onAddTag: () => dispatch({ type: ADD_TAG }),\n  onLoad: (payload) => dispatch({ type: EDITOR_PAGE_LOADED, payload }),\n  onRemoveTag: (tag) => dispatch({ type: REMOVE_TAG, tag }),\n  onSubmit: (payload) => dispatch({ type: ARTICLE_SUBMITTED, payload }),\n  onUnload: (payload) => dispatch({ type: EDITOR_PAGE_UNLOADED }),\n  onUpdateField: (key, value) =>\n    dispatch({ type: UPDATE_FIELD_EDITOR, key, value }),\n});\n\nclass Editor extends React.Component {\n  constructor() {\n    super();\n\n    const updateFieldEvent = (key) => (ev) =>\n      this.props.onUpdateField(key, ev.target.value);\n    this.changeTitle = updateFieldEvent(\"title\");\n    this.changeDescription = updateFieldEvent(\"description\");\n    this.changeBody = updateFieldEvent(\"body\");\n    this.changeTagInput = updateFieldEvent(\"tagInput\");\n\n    this.watchForEnter = (ev) => {\n      if (ev.keyCode === 13) {\n        ev.preventDefault();\n        this.props.onAddTag();\n      }\n    };\n\n    this.removeTagHandler = (tag) => () => {\n      this.props.onRemoveTag(tag);\n    };\n\n    this.submitForm = (ev) => {\n      ev.preventDefault();\n      const article = {\n        title: this.props.title,\n        description: this.props.description,\n        body: this.props.body,\n        tagList: this.props.tagList,\n      };\n\n      const slug = { slug: this.props.articleSlug };\n      const promise = this.props.articleSlug\n        ? agent.Articles.update(Object.assign(article, slug))\n        : agent.Articles.create(article);\n\n      this.props.onSubmit(promise);\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.match.params.slug !== nextProps.match.params.slug) {\n      if (nextProps.match.params.slug) {\n        this.props.onUnload();\n        return this.props.onLoad(\n          agent.Articles.get(this.props.match.params.slug)\n        );\n      }\n      this.props.onLoad(null);\n    }\n  }\n\n  componentWillMount() {\n    if (this.props.match.params.slug) {\n      return this.props.onLoad(\n        agent.Articles.get(this.props.match.params.slug)\n      );\n    }\n    this.props.onLoad(null);\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"editor-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-10 offset-md-1 col-xs-12\">\n              <ListErrors errors={this.props.errors}></ListErrors>\n\n              <form>\n                <fieldset>\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Article Title\"\n                      value={this.props.title}\n                      onChange={this.changeTitle}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"What's this article about?\"\n                      value={this.props.description}\n                      onChange={this.changeDescription}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <textarea\n                      className=\"form-control\"\n                      rows=\"8\"\n                      placeholder=\"Write your article (in markdown)\"\n                      value={this.props.body}\n                      onChange={this.changeBody}\n                    ></textarea>\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"Enter tags\"\n                      value={this.props.tagInput}\n                      onChange={this.changeTagInput}\n                      onKeyUp={this.watchForEnter}\n                    />\n\n                    <div className=\"tag-list\">\n                      {(this.props.tagList || []).map((tag) => {\n                        return (\n                          <span className=\"tag-default tag-pill\" key={tag}>\n                            <i\n                              className=\"ion-close-round\"\n                              onClick={this.removeTagHandler(tag)}\n                            ></i>\n                            {tag}\n                          </span>\n                        );\n                      })}\n                    </div>\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg pull-xs-right btn-primary\"\n                    type=\"button\"\n                    disabled={this.props.inProgress}\n                    onClick={this.submitForm}\n                  >\n                    Publish Article\n                  </button>\n                </fieldset>\n              </form>\n            </div>\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);\n","import { Link } from \"react-router-dom\";\nimport ListErrors from \"./ListErrors\";\nimport React from \"react\";\nimport agent from \"../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  UPDATE_FIELD_AUTH,\n  LOGIN,\n  LOGIN_PAGE_UNLOADED,\n} from \"../constants/actionTypes\";\nimport ErrorsCollector from \"./ErrorsCollector\";\n\nconst mapStateToProps = (state) => ({ ...state.auth });\n\nconst mapDispatchToProps = (dispatch) => ({\n  onChangeEmail: (value) =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: \"email\", value }),\n  onChangePassword: (value) =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: \"password\", value }),\n  onSubmit: (email, password) =>\n    dispatch({ type: LOGIN, payload: agent.Auth.login(email, password) }),\n  onUnload: () => dispatch({ type: LOGIN_PAGE_UNLOADED }),\n});\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = (ev) => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = (ev) => this.props.onChangePassword(ev.target.value);\n    this.submitForm = (email, password) => (ev) => {\n      ev.preventDefault();\n      this.props.onSubmit(email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign In</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/register\">Need an account?</Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(email, password)}>\n                <fieldset>\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={email}\n                      onChange={this.changeEmail}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={password}\n                      onChange={this.changePassword}\n                    />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}\n                  >\n                    Sign in\n                  </button>\n                </fieldset>\n              </form>\n            </div>\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import ArticleList from \"./ArticleList\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport agent from \"../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  FOLLOW_USER,\n  UNFOLLOW_USER,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n} from \"../constants/actionTypes\";\nimport ErrorsCollector from \"./ErrorsCollector\";\n\nconst EditProfileSettings = (props) => {\n  if (props.isUser) {\n    return (\n      <Link\n        to=\"/settings\"\n        className=\"btn btn-sm btn-outline-secondary action-btn\"\n      >\n        <i className=\"ion-gear-a\"></i> Edit Profile Settings\n      </Link>\n    );\n  }\n  return null;\n};\n\nconst FollowUserButton = (props) => {\n  if (props.isUser) {\n    return null;\n  }\n\n  let classes = \"btn btn-sm action-btn\";\n  if (props.user.following) {\n    classes += \" btn-secondary\";\n  } else {\n    classes += \" btn-outline-secondary\";\n  }\n\n  const handleClick = (ev) => {\n    ev.preventDefault();\n    if (props.user.following) {\n      props.unfollow(props.user.username);\n    } else {\n      props.follow(props.user.username);\n    }\n  };\n\n  return (\n    <button className={classes} onClick={handleClick}>\n      <i className=\"ion-plus-round\"></i>\n      &nbsp;\n      {props.user.following ? \"Unfollow\" : \"Follow\"} {props.user.username}\n    </button>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  ...state.articleList,\n  currentUser: state.common.currentUser,\n  profile: state.profile,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onFollow: (username) =>\n    dispatch({\n      type: FOLLOW_USER,\n      payload: agent.Profile.follow(username),\n    }),\n  onLoad: (payload) => dispatch({ type: PROFILE_PAGE_LOADED, payload }),\n  onUnfollow: (username) =>\n    dispatch({\n      type: UNFOLLOW_USER,\n      payload: agent.Profile.unfollow(username),\n    }),\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED }),\n});\n\nclass Profile extends React.Component {\n  componentWillMount() {\n    this.props.onLoad(\n      Promise.all([\n        agent.Profile.get(this.props.match.params.username),\n        agent.Articles.byAuthor(this.props.match.params.username),\n      ])\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            to={`/@${this.props.profile.username}`}\n          >\n            My Articles\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            to={`/@${this.props.profile.username}/favorites`}\n          >\n            Favorited Articles\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  render() {\n    const profile = this.props.profile;\n    if (!profile) {\n      return null;\n    }\n\n    const isUser =\n      this.props.currentUser &&\n      this.props.profile.username === this.props.currentUser.username;\n\n    return (\n      <div className=\"profile-page\">\n        <div className=\"user-info\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xs-12 col-md-10 offset-md-1\">\n                <img\n                  src={profile.image}\n                  className=\"user-img\"\n                  alt={profile.username}\n                />\n                <h4>{profile.username}</h4>\n                <p>{profile.bio}</p>\n\n                <EditProfileSettings isUser={isUser} />\n                <FollowUserButton\n                  isUser={isUser}\n                  user={profile}\n                  follow={this.props.onFollow}\n                  unfollow={this.props.onUnfollow}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n              <div className=\"articles-toggle\">{this.renderTabs()}</div>\n\n              <ArticleList\n                pager={this.props.pager}\n                articles={this.props.articles}\n                articlesCount={this.props.articlesCount}\n                state={this.props.currentPage}\n              />\n            </div>\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\nexport { Profile, mapStateToProps };\n","import { Profile, mapStateToProps } from \"./Profile\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport agent from \"../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n} from \"../constants/actionTypes\";\nimport ErrorsCollector from \"./ErrorsCollector\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLoad: (pager, payload) =>\n    dispatch({ type: PROFILE_PAGE_LOADED, pager, payload }),\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED }),\n});\n\nclass ProfileFavorites extends Profile {\n  componentWillMount() {\n    this.props.onLoad(\n      (page) =>\n        agent.Articles.favoritedBy(this.props.match.params.username, page),\n      Promise.all([\n        agent.Profile.get(this.props.match.params.username),\n        agent.Articles.favoritedBy(this.props.match.params.username),\n      ])\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <React.Fragment>\n        <ul className=\"nav nav-pills outline-active\">\n          <li className=\"nav-item\">\n            <Link className=\"nav-link\" to={`/@${this.props.profile.username}`}>\n              My Articles\n            </Link>\n          </li>\n\n          <li className=\"nav-item\">\n            <Link\n              className=\"nav-link active\"\n              to={`/@${this.props.profile.username}/favorites`}\n            >\n              Favorited Articles\n            </Link>\n          </li>\n        </ul>\n        <ErrorsCollector />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileFavorites);\n","import { Link } from \"react-router-dom\";\nimport ListErrors from \"./ListErrors\";\nimport React from \"react\";\nimport agent from \"../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  UPDATE_FIELD_AUTH,\n  REGISTER,\n  REGISTER_PAGE_UNLOADED,\n} from \"../constants/actionTypes\";\nimport ErrorsCollector from \"./ErrorsCollector\";\n\nconst mapStateToProps = (state) => ({ ...state.auth });\n\nconst mapDispatchToProps = (dispatch) => ({\n  onChangeEmail: (value) =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: \"email\", value }),\n  onChangePassword: (value) =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: \"password\", value }),\n  onChangeUsername: (value) =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: \"username\", value }),\n  onSubmit: (username, email, password) => {\n    const payload = agent.Auth.register(username, email, password);\n    dispatch({ type: REGISTER, payload });\n  },\n  onUnload: () => dispatch({ type: REGISTER_PAGE_UNLOADED }),\n});\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = (ev) => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = (ev) => this.props.onChangePassword(ev.target.value);\n    this.changeUsername = (ev) => this.props.onChangeUsername(ev.target.value);\n    this.submitForm = (username, email, password) => (ev) => {\n      ev.preventDefault();\n      this.props.onSubmit(username, email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    const username = this.props.username;\n\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign Up</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/login\">Have an account?</Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(username, email, password)}>\n                <fieldset>\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      value={this.props.username}\n                      onChange={this.changeUsername}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={this.props.email}\n                      onChange={this.changeEmail}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={this.props.password}\n                      onChange={this.changePassword}\n                    />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}\n                  >\n                    Sign up\n                  </button>\n                </fieldset>\n              </form>\n            </div>\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import ListErrors from \"./ListErrors\";\nimport React from \"react\";\nimport agent from \"../agent\";\nimport { connect } from \"react-redux\";\nimport {\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  LOGOUT,\n} from \"../constants/actionTypes\";\nimport ErrorsCollector from \"./ErrorsCollector\";\n\nclass SettingsForm extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      image: \"\",\n      username: \"\",\n      bio: \"\",\n      email: \"\",\n      password: \"\",\n    };\n\n    this.updateState = (field) => (ev) => {\n      const state = this.state;\n      const newState = Object.assign({}, state, { [field]: ev.target.value });\n      this.setState(newState);\n    };\n\n    this.submitForm = (ev) => {\n      ev.preventDefault();\n\n      const user = Object.assign({}, this.state);\n      if (!user.password) {\n        delete user.password;\n      }\n\n      this.props.onSubmitForm(user);\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.currentUser) {\n      Object.assign(this.state, {\n        image: this.props.currentUser.image || \"\",\n        username: this.props.currentUser.username,\n        bio: this.props.currentUser.bio,\n        email: this.props.currentUser.email,\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser) {\n      this.setState(\n        Object.assign({}, this.state, {\n          image: nextProps.currentUser.image || \"\",\n          username: nextProps.currentUser.username,\n          bio: nextProps.currentUser.bio,\n          email: nextProps.currentUser.email,\n        })\n      );\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.submitForm}>\n        <fieldset>\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"URL of profile picture\"\n              value={this.state.image}\n              onChange={this.updateState(\"image\")}\n            />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"text\"\n              placeholder=\"Username\"\n              value={this.state.username}\n              onChange={this.updateState(\"username\")}\n            />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <textarea\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n              placeholder=\"Short bio about you\"\n              value={this.state.bio}\n              onChange={this.updateState(\"bio\")}\n            ></textarea>\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={this.state.email}\n              onChange={this.updateState(\"email\")}\n            />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"password\"\n              placeholder=\"New Password\"\n              value={this.state.password}\n              onChange={this.updateState(\"password\")}\n            />\n          </fieldset>\n\n          <button\n            className=\"btn btn-lg btn-primary pull-xs-right\"\n            type=\"submit\"\n            disabled={this.state.inProgress}\n          >\n            Update Settings\n          </button>\n        </fieldset>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  ...state.settings,\n  currentUser: state.common.currentUser,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onClickLogout: () => dispatch({ type: LOGOUT }),\n  onSubmitForm: (user) =>\n    dispatch({ type: SETTINGS_SAVED, payload: agent.Auth.save(user) }),\n  onUnload: () => dispatch({ type: SETTINGS_PAGE_UNLOADED }),\n});\n\nclass Settings extends React.Component {\n  render() {\n    return (\n      <div className=\"settings-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Your Settings</h1>\n\n              <ListErrors errors={this.props.errors}></ListErrors>\n\n              <SettingsForm\n                currentUser={this.props.currentUser}\n                onSubmitForm={this.props.onSubmitForm}\n              />\n\n              <hr />\n\n              <button\n                className=\"btn btn-outline-danger\"\n                onClick={this.props.onClickLogout}\n              >\n                Or click here to logout.\n              </button>\n            </div>\n          </div>\n        </div>\n        <ErrorsCollector />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import React, { useState, Fragment, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Player from \"rrweb-player\";\n\nconst ErrorsPlayer = () => {\n  const errors = JSON.parse(sessionStorage.getItem(`errors`)) || [];\n  const [activeError, setActiveError] = useState(null);\n  const playerRef = useRef(null);\n\n  const handleChangeError = (error) => {\n    setActiveError(error);\n    playerRef.current.innerHTML = ``;\n    new Player({\n      target: playerRef.current, // customizable root element\n      data: {\n        events: error.lastEvents,\n        autoPlay: true,\n      },\n    });\n  };\n  return (\n    <section>\n      <div\n        style={{\n          height: `60px`,\n          display: `flex`,\n          borderBottom: `1px solid gray`,\n        }}\n      >\n        {errors.map((error, index) => {\n          return (\n            <div style={{ marginRight: `5px` }} key={index}>\n              <button type={`button`} onClick={() => handleChangeError(error)}>\n                Показать #{index + 1}\n              </button>\n            </div>\n          );\n        })}\n      </div>\n      <div style={{ borderBottom: `1px solid gray` }}>\n        {activeError && (\n          <Fragment>\n            {activeError.message && <p>Текст ошибки: {activeError.message}</p>}\n            <p>Тип: {activeError.type}</p>\n            {activeError.stack && (\n              <p title={activeError.stack}>\n                Стек: {activeError.stack.slice(0, 400)}\n                {activeError.stack.length > 400 && ` ...`}\n              </p>\n            )}\n            {activeError.fileName && <p>fileName: {activeError.fileName}</p>}\n            {activeError.lineno && <p>fileName: {activeError.lineno}</p>}\n            {activeError.colno && <p>fileName: {activeError.colno}</p>}\n            <p>\n              Последние запросы:\n              {activeError.requests.map(({ url, duration }, index) => (\n                <Fragment key={`req-${index}`}>\n                  <br />\n                  <span\n                    style={{ marginRight: `50px` }}\n                  >{`url: ${url}`}</span>{\" \"}\n                  {`время(мс): ${duration.toFixed(0)}`}\n                </Fragment>\n              ))}\n            </p>\n          </Fragment>\n        )}\n      </div>\n      <div ref={playerRef} />\n    </section>\n  );\n};\n\nErrorsPlayer.propTypes = {};\n\nexport default ErrorsPlayer;\n","import agent from \"../agent\";\nimport Header from \"./Header\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { APP_LOAD, REDIRECT } from \"../constants/actionTypes\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Article from \"../components/Article\";\nimport Editor from \"../components/Editor\";\nimport Home from \"../components/Home\";\nimport Login from \"../components/Login\";\nimport Profile from \"../components/Profile\";\nimport ProfileFavorites from \"../components/ProfileFavorites\";\nimport Register from \"../components/Register\";\nimport Settings from \"../components/Settings\";\nimport { store } from \"../store\";\nimport { push } from \"react-router-redux\";\nimport ErrorsPlayer from \"./ErrorsPlayer\";\n\nconst mapStateToProps = (state) => {\n  return {\n    appLoaded: state.common.appLoaded,\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n    redirectTo: state.common.redirectTo,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLoad: (payload, token) =>\n    dispatch({ type: APP_LOAD, payload, token, skipTracking: true }),\n  onRedirect: () => dispatch({ type: REDIRECT }),\n});\n\nclass App extends React.Component {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.redirectTo) {\n      // this.context.router.replace(nextProps.redirectTo);\n      store.dispatch(push(nextProps.redirectTo));\n      this.props.onRedirect();\n    }\n  }\n\n  componentWillMount() {\n    const token = window.localStorage.getItem(\"jwt\");\n    if (token) {\n      agent.setToken(token);\n    }\n\n    this.props.onLoad(token ? agent.Auth.current() : null, token);\n  }\n\n  render() {\n    if (this.props.appLoaded) {\n      return (\n        <div>\n          <Header\n            appName={this.props.appName}\n            currentUser={this.props.currentUser}\n          />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/editor/:slug\" component={Editor} />\n            <Route path=\"/editor\" component={Editor} />\n            <Route path=\"/article/:id\" component={Article} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/@:username/favorites\" component={ProfileFavorites} />\n            <Route path=\"/@:username\" component={Profile} />\n            <Route path=\"/errors\" component={ErrorsPlayer} />\n          </Switch>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Header\n          appName={this.props.appName}\n          currentUser={this.props.currentUser}\n        />\n      </div>\n    );\n  }\n}\n\n// App.contextTypes = {\n//   router: PropTypes.object.isRequired\n// };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport React, { Fragment } from \"react\";\nimport { store, history } from \"./store\";\n\nimport { Route, Switch } from \"react-router-dom\";\nimport { ConnectedRouter } from \"react-router-redux\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <Fragment>\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <Switch>\n          <Route path=\"/\" component={App} />\n        </Switch>\n      </ConnectedRouter>\n    </Provider>\n  </Fragment>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}